{"version":3,"sources":["reducers/currentView.js","helpers/processor.js","reducers/options.js","reducers/data.js","reducers/graph.js","reducers/index.js","components/Logo.js","components/Footer.js","components/Intro.js","containers/Intro.js","components/Header.js","containers/Header.js","components/Options-summary.js","components/Options-panel.js","components/Options-names.js","components/Options.js","containers/Options.js","components/Network.js","containers/Network.js","components/Country.js","containers/Country.js","components/Race.js","containers/Race.js","components/Legends.js","components/Results.js","containers/Results.js","components/Vis.js","containers/Vis.js","components/App.js","containers/App.js","configureStore.js","index.js"],"names":["currentView","state","view","action","type","Object","assign","value","isLoading","vis","allAthletes","Data","athletes","allLinks","graph","meets","events","competitions","race","category","getCategory","getYearInfo","years","_","chain","map","meet","children","c","slice","flatten","uniq","sort","byYear","key","competition","startDate","moment","endDate","year","location","split","join","dates","format","name","swimmerCount","men","length","women","sortBy","groupBy","totalCount","setInitialSelections","selParent","sel","each","val","kind","vals","fromPairs","d","typeId","getAthletesList","gender","all","cloneDeep","a","records","label","country","setSelections","selParentPrev","selectedPrev","selected","sep","getSearchedAthletes","ids","filter","indexOf","id","updateSelection","selection","updatedSel","arr","getRaces","races","style","push","toPairs","e","r","getAthletesData","searchedAthletes","allTotalPoints","racesByAthletes","race_id","intersection","athletesInGender","shuffle","athlete","totalPoint","validRecords","point","place","min","pointRange","Math","max","getCountryList","list","sortCountries","countryList","sortOption","sortAthletesPerCountry","reduce","memo","num","getAthletesByRace","byRace","getAObj","validRaces","isEqual","reject","meetsIndex","yearsIndex","i","curr","prev","raceDates","getTopAthletes","reverse","round","getAthletesLinks","links","aIds","linksRange","source","target","getConnectedNodes","l","getMutualLinkedNodes","focusedAIds","linksByFIds","idPair","linked","includes","linkedToAll","getRaceHoverText","raceId","aName","elms","elm","getRacesObjByA","obj","pick","getSharedRaces","raceIdsByA","keys","shared","getSharedRacesWinner","sharedRaces","clickedObjs","athletesOfRace","sorted","compact","highestPlace","s","f","options","isOpen","initSels","originalSel","origianlSelParent","originalNames","defaultEvents","defaultIds","selections","nameOption","concat","newSearched","originalSelParent","prevVal","childrenList","selCloned","data","yearInfo","racesInfo","athletesData","athletesCount","topAthletes","nodes","athletesByRace","newSorted","clickedIds","isLinksShown","clicked","clickedId","mutualLinkedNodes","sharedRacesWinner","prevIds","prevObjs","unshift","remove","newClickedIds","newClickedObjs","racesWinner","combineReducers","network","connected","hoverText","hoveredId","hovered","sortCountry","sortAthlete","athleteId","aId","hoverTextCount","raceCount","Logo","className","Component","Footer","href","rel","IntroComponent","element","scrollToComponent","this","refs","offset","align","duration","h","getyearIdx","g","dim","x","line","d3","curve","y","getYearY","random","lineT1","lineT2","range","wave","append","datum","attr","repeat","speed","transition","on","xPoints","path","translateAlong","pathNode","elapsed","yearIdx","getTotalLength","t","p","getPointAtLength","interrupt","pY","pausedYear","classed","newIdx","delay","animateCircle","pause","ease","attrTween","node","margin","xPos","top","bottom","yPos","angle","yG","text","mG","yearsProp","w","document","getElementById","clientWidth","right","left","firstYear","lastYear","clone","domain","drawYearBg","drawCurves","drawYear","animateSwimmer","props","setGender","drawIntroVis","onClick","setDefaultOptions","scroll","ref","disabled","checked","onChange","m","word","j","charAt","connect","ownProps","dispatch","stateProps","dispatchProps","currentTarget","HeaderComponent","goIntro","switchGender","SummaryComponent","csList","item","count","names","toUpperCase","PanelComponent","lists","toggleSelParent","k","isDisabled","NamesComponent","updateNameOption","clearable","addName","placeholder","removeName","OptionsComponent","nextProps","panel","summary","offsetHeight","display","visibility","setTempData","undefined","tempCount","update","cancel","toggle","optionList","v","NetworkComponent","simulation","active","alphaTarget","restart","fx","fy","isClicked","link","svg","decayRange","distRange","force","distance","distanceMax","iterations","velocityDecay","linkG","linkValRange","selectAll","enter","sqrt","radius","nodeG","self","points","total","call","dragstarted","dragged","dragended","mouseOverFunc","mouseOutFunc","clickFunc","ticked","drawGraph","status","splice","combination","updateGraph","console","log","Tippy","arrow","animation","size","highlightElements","highlightAthletes","toggleLinkedNodes","width","handleWidth","onResize","_onResize","bind","CountryComponent","code","Countries","html","toLowerCase","styles","neighbor","lastA","drawLinear","countries","sortAthletes","RaceComponent","halfL","strokeW","isOutside","pDiff","aY","drawAthlete","aWidth","raceDate","isFirstMeet","isFirstYear","initialTop","labelDist","ldWeight","date","dateArr","isFirst","containerW","veryTop","extended","gId","accWidth","accHeight","isNull","drawRaceLines","maxA","values","rW","drawAthletes","xLineCount","aOutside","addedW","drawRaceLabels","position","LegendsComponent","ResultsComponent","results","removeAllAthletes","colSpan","removeAthlete","swimtime","graphInfo","VisComponent","visType","switchVis","Legends","selectAthlete","selectRace","findLast","AppComponent","init","startVis","preloadedState","setTimeout","store","createStore","rootReducer","render"],"mappings":"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","file":"static/js/main.c7099f9f.chunk.js","sourcesContent":["const currentView = (state = { view: 'intro' }, action) => {\n  switch (action.type) {\n    case 'SET_CURRENT_VIEW':\n      return Object.assign({}, state, { view: action.value, isLoading: false });\n    case 'SET_DEFAULT_OPTIONS':\n      return Object.assign({}, state, { isLoading: true });\n    case 'RESET_GRAPH':\n      return Object.assign({}, state, { isLoading: true });\n    case 'SET_GENDER':\n      //set a default view depending on gender\n      return Object.assign({}, state, { vis: 'network' });\n    case 'SET_VIS_VIEW':\n      return Object.assign({}, state, { vis: action.value });\n    default:\n      return state;\n  }\n};\n\nexport default currentView;","import _ from 'lodash';\nimport Data from '../data/data.json';\nimport moment from 'moment';\nconst allAthletes = Data.athletes;\nconst allLinks = Data.graph;\nconst { meets, events, competitions, race } = Data;\nconst category = { meets, events };\n\nexport const getCategory = () => {\n  return category;\n};\n\nexport const getYearInfo = () => {\n  const years = _.chain(meets)\n    .map((meet) => meet.children.map((c) => +c[0].slice(1)))\n    .flatten()\n    .uniq()\n    .sort()\n    .value();\n  const byYear = _.chain(meets)\n    .map((meet, key) => meet.children.map((c) => {\n      const competition = competitions[`${key}-${c[0]}`];\n      const startDate = moment(competition.startDate, 'DD MMM YYYY');\n      const endDate = moment(competition.endDate, 'DD MMM YYYY');\n      return {\n        year: c[0].slice(1),\n        location: c[1].split(' - ')[1].split('(')[0].split(' ').join(''), //trace city name\n        dates: `${moment(startDate).format('MMM D')} - ${moment(endDate).format('MMM D')}`,\n        meet: meet.name,\n        moment: startDate.format('YYYYMMDD'),\n        swimmerCount: { men: competition.men.length, women: competition.women.length },\n      }\n    }))\n    .flatten()\n    .sortBy('moment')\n    .groupBy('year')\n    .value();\n  return {\n    years,\n    byYear,\n    totalCount: {\n      men: allAthletes.men.length,\n      women: allAthletes.women.length,\n    }\n  };\n};\n\n//get the cetegory data\nexport const setInitialSelections = () => {\n  const selParent = {};\n  const sel = {};\n  _.each(category, (val, kind) => {\n    selParent[kind] = {};\n    const vals = _.fromPairs(_.map(val, (d, typeId) => {\n      const children = _.fromPairs(_.map(d.children, (d) => [d[0], false]));\n      selParent[kind][typeId] = false;\n      return [typeId, children];\n    }));\n    sel[kind] = vals;\n  });\n  return { sel, selParent, category }\n};\n\nexport const getAthletesList = (gender) => {\n  const all = _.cloneDeep(allAthletes[gender]);\n  return _.sortBy(all, (a) => -a.records.length)\n    .map((a) => (\n      {\n        value: a,\n        label: `${a.name} (${a.country})`,\n      }\n    ));\n};\n\n//set options\nexport const setSelections = (sel, selParentPrev, selectedPrev) => {\n  const selParent = _.cloneDeep(selParentPrev);\n  const selected = _.cloneDeep(selectedPrev);\n  _.each(_.cloneDeep(selected), (vals, kind) => {\n      //example: kind(meets): '0OG-a2016', kind(eventts): '0IND-50Fr'\n    _.each(vals, (val) => {\n      const sep = val.split('-');\n      selParent[kind][sep[0]] = true;\n      sel[kind][sep[0]][sep[1]] = true;\n    });\n  });\n  return { sel, selParent };\n};\n\nexport const getSearchedAthletes = (ids, gender) => {\n  return _.filter(_.cloneDeep(allAthletes[gender]), (d) => ids.indexOf(d.id) > -1);\n};\n\nexport const updateSelection = (selection, sel) => {\n  let updatedSel = sel;\n  const arr = selection.split(',');\n  updatedSel[arr[0]][arr[1]][arr[2]] = arr[3] === 'false' ? true : false;\n  return updatedSel;\n};\n\n//get races from the selection in option\nexport const getRaces = (sel, gender) => {\n  const races = []; //all races\n  //meets and events are used for Summary in Option\n  const meets = {};\n  const events = [];\n  //meets\n  for (let meet in sel.meets) {\n    for (let year in sel.meets[meet]) {\n      if (sel.meets[meet][year]) {\n        //add meets info\n        if (!meets[meet]) {\n          meets[meet] = [year];\n        } else {\n          meets[meet].push(year);\n        }\n        //events\n        for (let style in sel.events) {\n          for (let race in sel.events[style]) {\n            if (((gender === 'women' && race !== 'f1500Fr') ||\n              (gender === 'men' && race !== 'e800Fr')) &&\n              sel.events[style][race]) {\n              //add events info\n              events.push(race);\n              races.push(`${meet}-${year}--${style}-${race}`);\n            }\n          }\n        }\n      }\n    }\n  }\n  return {\n    meets: _.toPairs(meets),\n    events: _.sortBy(_.uniq(events), (e) => e),\n    races: _.sortBy(races, (r) => r),\n  };\n};\n\n//get athletes data from options\nexport const getAthletesData = (gender, races, searchedAthletes) => {\n  let athletes = [];\n  let allTotalPoints = [];\n  //filter atheltes by the races of searched atheltes\n  if (searchedAthletes.length > 0) {\n    const racesByAthletes = _.chain(searchedAthletes)\n      .map((a) => a.records)\n      .map((arr) => (arr.map((r) => r.race_id)))\n      .flatten()\n      .uniq()\n      .value();\n    races = _.intersection(races, racesByAthletes);\n  }\n\n  //check records are included in the selected meets and events\n  const athletesInGender = _.shuffle(_.cloneDeep(allAthletes[gender]));\n  _.each(athletesInGender, (athlete) => {\n      let totalPoint = 0;\n      let validRecords = [];\n      _.each(athlete.records, (r) => {\n        if (races.indexOf(r.race_id) > -1) {\n          totalPoint += r.point;\n          validRecords.push(r);\n        }\n      });\n      if (validRecords.length > 0) {\n        allTotalPoints.push(totalPoint);\n        athlete.records = _.sortBy(validRecords, (r) => r.race_id);\n        athlete.totalPoint = totalPoint;\n        athlete.place = _.min(validRecords.map((r) => +r.place));\n        athletes.push(athlete);\n      }\n  });\n  const pointRange = [Math.max(_.min(allTotalPoints), 700), _.max(allTotalPoints)];\n  return { athletes, pointRange };\n};\n\nexport const getCountryList = (athletes) => {\n  return _.chain(athletes)\n    .groupBy((a) => a.country)\n    .map((list, country) => {\n      //default sorting option for athletes is races\n      const sorted = _.sortBy(list, (a) => -a.records.length);\n      return { country, athletes: sorted };\n    })\n    //default is by athletes count\n    .sortBy((d) => -d.athletes.length)\n    .value();\n};\n\nexport const sortCountries = (countryList, sortOption) => {\n  if (sortOption === 'alphabetical') {\n    return _.sortBy(countryList, (c) => c.country);\n  } else {\n    return _.sortBy(countryList, (c) => -c.athletes.length);\n  }\n};\n\nexport const sortAthletesPerCountry = (countryList, sortOption) => {\n  return _.chain(countryList)\n    .map((c) => {\n      const { athletes, country } = c;\n      let sorted;\n      if (sortOption === 'races') {\n        sorted = _.sortBy(athletes, (a) => -a.records.length);\n      } else if (sortOption === 'points') {\n        sorted = _.sortBy(athletes, (a) => (\n          -1 * _.reduce(a.records.map((r) => r.point), (memo, num) =>\n            { return memo + num; },\n          0)\n        ));\n      } else {\n        sorted = _.sortBy(athletes, (a) => a.name);\n      }\n      return { country, athletes: sorted };\n    })\n    .value();\n}\n\nexport const getAthletesByRace = (athletes, races, gender) => {\n  const byRace = _.fromPairs(races.map((r) => [r, {}]));\n  const getAObj = (a, place) => {\n    return { ...a, place };\n  }\n  _.each(athletes, (a) => {\n    _.each(a.records, (r) => {\n      if (!byRace[r.race_id][r.place]) {\n        byRace[r.race_id][r.place] = [getAObj(a, r.place)];\n      } else {\n        byRace[r.race_id][r.place].push(getAObj(a, r.place));\n      }\n    });\n  });\n  //when filtered with athletes names, all the selected events in the options may not be included.\n  //exclude those races that do not have athletes\n  const validRaces = _.chain(byRace)\n    .map((r, key) => [_.isEqual(r, {}), key])\n    .reject((d) => d[0])\n    .map((d) => d[1])\n    .sortBy((d) => d)\n    .value();\n\n  //index of meets/events that change in the valid race array\n  let meetsIndex = [0];\n  let yearsIndex = [0];\n  for (let i = 1; i < validRaces.length - 1; i++) {\n    const curr = validRaces[i].split('-');\n    const prev = validRaces[i - 1].split('-');\n    //0 is meet, year is event\n    if (curr[0] !== prev[0]) {\n      meetsIndex.push(i);\n      yearsIndex.push(i);\n    }\n    if (curr[1] !== prev[1]) {\n      yearsIndex.push(i);\n    }\n  }\n  const raceDates = validRaces.map((r) => race[gender][r])\n  return { byRace, validRaces, meetsIndex, yearsIndex, raceDates };\n};\n\n//top athletes for selection dropdown\nexport const getTopAthletes = (allAthletes) => {\n  return _.sortBy(allAthletes, (a) => { return a.totalPoint; })\n    .reverse()\n    .slice(0, Math.min(30, Math.round(allAthletes.length / 10)));\n};\n\n//create links data of Graph\nexport const getAthletesLinks = (gender, athletes, races) => {\n  let links = [];\n  const aIds = _.map(athletes, 'id');\n  let linksRange = [races.length, 1];\n  _.each(allLinks[gender], (d) => {\n    //check if both source and target are in the selected ids\n    if (aIds.indexOf(d.source) > -1 && aIds.indexOf(d.target) > -1) {\n      let validRecords = [];\n      _.each(d.value, (r) => {\n        if (races.indexOf(r) > -1) {\n          validRecords.push(r);\n        }\n      });\n      if (validRecords.length > 0) {\n        const value = validRecords.length;\n        links.push({\n          source: d.source,\n          target: d.target,\n          value\n        });\n        linksRange = [\n          Math.min(linksRange[0], value),\n          Math.max(linksRange[1], value)\n        ];\n      }\n    }\n  });\n  return { links, linksRange };\n};\n\n//get ids of connected nodes for mouseover effect\nexport const getConnectedNodes = (id, links) => {\n  return _.chain(links)\n    .filter((l) => {\n      return l.source.id === id || l.target.id === id;\n    })\n    .map((l) => id === l.source.id ? l.target.id : l.source.id)\n    .value();\n};\n\n//conver option as object to array for React rendering\nexport const getOptionsArray = (category) => {\n  return _.map(category, (obj, kind) => {\n    const lists = _.map(obj, (val, key) => ({\n        type: val.name,\n        list: _.map(_.sortBy(val.children, (c) => c[0]), (v) => {\n            return { key: v[0], name: v[1] };\n          }\n        ),\n        key\n      }\n    ));\n    return { key: kind, lists };\n  });\n};\n\n//athletes who competed with ALL of the focused athletes - view option\nexport const getMutualLinkedNodes = (focusedAIds, links) => {\n\n  let linksByFIds = []; //links by focused ID\n\n  _.each(links, (l) => {\n    //id pair from each link\n    const idPair = [l.source.id || l.source, l.target.id || l.target];\n    //compare the ID pair and the focused athletes IDs\n    _.each(focusedAIds, (id, i) => {\n      //if one of the pair is a focused athlete, get the other one of the pair\n      if (idPair.indexOf(id) > -1) {\n        const linked = idPair[idPair.indexOf(id) * -1 + 1];\n        //exclude the focused id\n        if (!_.includes(focusedAIds, linked)) {\n          if (!linksByFIds[i]) {\n              linksByFIds[i] = [linked];\n          } else {\n              linksByFIds[i].push(linked);\n          }\n        }\n      }\n    });\n  });\n\n  //get athletes who competed all of the focused ones\n  let linkedToAll = [];\n  _.each(linksByFIds, (links, i) => {\n      if (i === 1) {\n        linkedToAll = _.intersection(linksByFIds[i - 1], links);\n      } else if (i !== 0) {\n        linkedToAll = _.intersection(linkedToAll, links);\n      }\n  });\n\n  return _.flatten(linkedToAll);\n};\n\nexport const getRaceHoverText = (value) => {\n  const { raceId, aName, place } = value;\n  const elms = raceId.split('-').map((elm) => elm.slice(1, elm.length));\n  return `${aName} was placed #${place} at ${elms[1]} ${elms[0]} ${elms[4]}`;\n};\n\nexport const getRacesObjByA = (obj) => {\n  const { id, name, country } = obj;\n  let records = {};\n  _.each(obj.records, (r) => {\n    records[r.race_id] = _.pick(r, ['swimtime', 'place']);\n  });\n  return {\n    id,\n    name,\n    country,\n    records,\n  }\n};\n\nexport const getSharedRaces = (athletes, gender) => {\n  const raceIdsByA = athletes.map((a) => _.keys(a.records))\n  let shared = raceIdsByA[0];\n  for (let i = 1; i < raceIdsByA.length; i++) {\n    shared = _.intersection(shared, raceIdsByA[i]);\n  }\n  // const raceDate = shared.map((r) => race[gender][r]);\n  return shared;\n};\n\nexport const getSharedRacesWinner = (sharedRaces, clickedObjs) => {\n  return sharedRaces.map((raceId) => {\n      const athletesOfRace = clickedObjs.map((a, i) => {\n          if (a.records[raceId]) {\n            //i: index of column\n            return [a.records[raceId].place, i];\n          } else {\n            return null;\n          }\n      });\n      //sort by place\n      const sorted = _.sortBy(_.compact(athletesOfRace), (a) => a[0]);\n\n      //highest place among all swimmers\n      const highestPlace = sorted[0][0];\n\n      //return top athlete's index\n      //there may be multiple swimmers with the top place, thus return array\n      return _.filter(sorted, (s) => s[0] === highestPlace).map((f) => f[1]);\n  });\n};","import _ from 'lodash';\nimport {\n  setInitialSelections,\n  getAthletesList,\n  setSelections,\n  getSearchedAthletes,\n  updateSelection,\n} from '../helpers/processor';\n\n/* option panels data */\n\nconst options = (state = { isOpen: false }, action) => {\n  switch (action.type) {\n    case 'INITIALIZE': {\n      const initSels = setInitialSelections();\n      return Object.assign({}, state, {\n        ...initSels,\n      });\n    }\n    case 'SET_GENDER': {\n      const list = getAthletesList(action.value);\n      const initSels = setInitialSelections();\n      return Object.assign({}, state, {\n        list,\n        ...initSels,\n        searchedAthletes: [],\n        originalSel: {},\n        origianlSelParent: {},\n        originalNames: [], //show in the option name\n      });\n    }\n    case 'SET_DEFAULT_OPTIONS': {\n      let defaultEvents;\n      let defaultIds;\n      if (action.value === 'men') {\n        defaultEvents = {\n          meets: ['0OG-d2016'],\n          events: ['0IND-a50Fr', '0IND-b100Fr', '0IND-c200Fr', '0IND-d400Fr', '0IND-f1500Fr',\n          '0IND-g100Bk', '0IND-h200Bk', '0IND-i100Br', '0IND-j200Br', '0IND-k100Fly', '0IND-l200Fly',\n          '0IND-m200IM', '0IND-n400IM',\n          '1TEAM-o4X100Fr', '1TEAM-p4X200Fr', '1TEAM-q4X100M']\n        };\n        defaultIds = []; //phelps '4038916'\n      } else {\n        defaultEvents = {\n          meets: ['0OG-d2016', '0OG-h2012'],\n          events: ['0IND-k100Fly', '0IND-l200Fly', '0IND-m200IM', '0IND-n400IM']\n        };\n        defaultIds = []; //ledecky '4772552'\n      }\n      const selections = setSelections(state.sel, state.selParent, defaultEvents);\n      // console.log(selections);\n      const { sel, selParent } = selections;\n      const searchedAthletes = getSearchedAthletes(defaultIds, action.value);\n      const originalNames = searchedAthletes;\n      const nameOption = searchedAthletes.length > 0 ? 'search' : 'all';\n      return Object.assign({}, state, {\n        sel, selParent,\n        searchedAthletes, originalNames,\n        nameOption\n      });\n    }\n    case 'TOGGLE_OPTIONS': {\n      return Object.assign({}, state, {\n        isOpen: action.value\n      });\n    }\n    case 'SET_SELECTION': {\n      const updatedSel = updateSelection(action.value, _.cloneDeep(state.sel));\n      return Object.assign({}, state, { sel: updatedSel });\n    }\n    case 'SET_NAME_OPTION': {\n      return Object.assign({}, state, {\n        searchedAthletes: action.value === 'all' ? [] : state.searchedAthletes,\n        nameOption: action.value\n      });\n    }\n    case 'ADD_ATHLETE': {\n      return Object.assign({}, state, {\n        searchedAthletes: state.searchedAthletes.concat(action.value)\n      });\n    }\n    case 'REMOVE_AHLETE': {\n      const newSearched = _.reject(state.searchedAthletes, (d) => d.id === action.value);\n      return Object.assign({}, state, {\n        searchedAthletes: newSearched,\n        nameOption: newSearched.length === 0 ? 'all' : state.nameOption,\n      });\n    }\n    case 'SET_VIS_DATA': {\n      //reset temprary selection & temporary names\n      return Object.assign({}, state, {\n        originalNames: _.cloneDeep(state.searchedAthletes),\n        originalSel: _.cloneDeep(state.sel),\n        originalSelParent: _.cloneDeep(state.selParent),\n        isOpen: false,\n      });\n    }\n    case 'CANCEL': {\n      return Object.assign({}, state, {\n        isOpen: false,\n        sel: state.originalSel,\n        selParent: state.originalSelParent,\n        searchedAthletes: state.originalNames,\n        nameOption: state.originalNames.length > 0 ? 'search' : 'all'}\n      );\n    }\n    case 'TOGGLE_SEL_PARENT': {\n      const { kind, type } = action.value;\n      const prevVal = state.selParent[kind][type];\n      state.selParent[kind][type] = !prevVal;\n      const childrenList = state.category[kind][type].children.map((d) => d[0]);\n      const selCloned = _.cloneDeep(state.sel);\n      _.each(childrenList, (d) => {\n        selCloned[kind][type][d] = !prevVal;\n      });\n      return Object.assign({}, state, {\n        selParent: state.selParent,\n        sel: selCloned,\n      });\n    }\n    default:\n      return state;\n  }\n};\n\nexport default options;","import {\n  getCategory,\n  getYearInfo,\n  getRaces,\n  getTopAthletes,\n  getAthletesData,\n  getCountryList,\n  sortCountries,\n  sortAthletesPerCountry,\n  getAthletesByRace,\n  getAthletesLinks,\n} from '../helpers/processor';\n\n/* vis data */\n\nconst data = (state = {}, action) => {\n  switch (action.type) {\n    case 'INITIALIZE': {\n      const category = getCategory();\n      const yearInfo = getYearInfo();\n      return Object.assign({}, state, { category, yearInfo });\n    }\n    //show the filtered atheltes number\n    case 'SET_TEMP_DATA': {\n      const { gender, sel, searchedAthletes } = action.value;\n      const racesInfo = getRaces(sel, gender);\n      const athletesData = getAthletesData(gender, racesInfo.races, searchedAthletes);\n      return Object.assign({}, state, {\n        athletesCount: athletesData.athletes.length\n      });\n    }\n    case 'SET_VIS_DATA': {\n      const { gender, sel, searchedAthletes } = action.value;\n      //races filtered by meets/event, for HTML\n      const racesInfo = getRaces(sel, gender);\n      const athletesData = getAthletesData(gender, racesInfo.races, searchedAthletes);\n      //athletes filtered by meet/event or name search - used in panel (athlete count)\n      //for vis node size\n      const { athletes, pointRange } = athletesData;\n      //top athletes by meets/event, for HTML\n      const topAthletes = getTopAthletes(athletes);\n      const { links, linksRange } = getAthletesLinks(gender, athletes, racesInfo.races);\n      //network data\n      const graph = { nodes: athletes, links };\n      //country data\n      const countryList = getCountryList(athletes);\n      //race data\n      const athletesByRace = getAthletesByRace(athletes, racesInfo.races, gender);\n      //athletes\n      return Object.assign({}, state, {\n        racesInfo,\n        pointRange,\n        linksRange,\n        topAthletes,\n        graph,\n        countryList,\n        athletesByRace,\n      });\n    }\n    case 'SORT_COUNTRIES': {\n      const sorted = sortCountries(state.countryList, action.value);\n      return Object.assign({}, state, { countryList: sorted });\n    }\n    case 'SORT_ATHLETES_PER_COUNTRY': {\n      const newSorted = sortAthletesPerCountry(state.countryList, action.value);\n      return Object.assign({}, state, { countryList: newSorted });\n    }\n    default:\n      return state;\n  }\n};\n\nexport default data;","import _ from 'lodash';\nimport {\n  getMutualLinkedNodes,\n  getSharedRaces,\n  getSharedRacesWinner,\n  getRacesObjByA,\n} from '../helpers/processor';\n\n/* user interaction related data */\n\nconst graph = (state = { clickedIds: [], clickedObjs: [], isLinksShown: false }, action) => {\n  //clicked & clickedIds are used for all vis types\n  switch(action.type) {\n    case 'SET_VIS_DATA':\n    case 'RESET_GRAPH':\n      return Object.assign({}, state, {\n        clicked: false,\n        clickedId: null,\n        mutualLinkedNodes: [],\n        clickedIds: [],\n        clickedObjs: [],\n        isLinksShown: false,\n        sharedRaces: [],\n        sharedRacesWinner: [],\n      });\n    case 'SELECT_ATHLETE':\n      const clickedId = action.value.id;\n      let prevIds = _.cloneDeep(state.clickedIds);\n      let prevObjs = _.cloneDeep(state.clickedObjs);\n      let clicked = false;\n      if (state.clickedIds.indexOf(clickedId) === -1) {\n        clicked = true;\n        prevIds.unshift(clickedId);\n        prevObjs.unshift(getRacesObjByA(action.value));\n      } else {\n        _.remove(prevIds, (id) => id === clickedId);\n        prevObjs = _.reject(prevObjs, (obj) => obj.id === clickedId);\n      }\n      //nodes will be highlighted\n      let nodes = state.mutualLinkedNodes;\n      if (state.isLinksShown) {\n        nodes = getMutualLinkedNodes(prevIds, action.links);\n      }\n      let sharedRaces = prevIds.length > 0 ?\n        getSharedRaces(prevObjs) :\n        [];\n      let sharedRacesWinner = sharedRaces.length > 0 ?\n        getSharedRacesWinner(sharedRaces, prevObjs) :\n        [];\n      return Object.assign({}, state, {\n        clicked,\n        clickedId,\n        sharedRaces,\n        sharedRacesWinner,\n        mutualLinkedNodes: nodes,\n        clickedIds: prevIds,\n        clickedObjs: prevObjs,\n      });\n    case 'SELECT_RACE':\n      let { id, athletes } = action.value;\n      const newClickedIds = athletes.map((a) => a.id);\n      const newClickedObjs = athletes.map((a) => getRacesObjByA(a));\n      const races = [id];\n      const racesWinner = getSharedRacesWinner(races, newClickedObjs);\n      return Object.assign({}, state, {\n        clickedIds: newClickedIds,\n        clickedObjs: newClickedObjs,\n        sharedRaces: races,\n        sharedRacesWinner: racesWinner,\n        clicked: true,\n      });\n    case 'TOGGLE_VIEW': //for nework\n      const mutualLinkedNodes = getMutualLinkedNodes(state.clickedIds, action.links);\n      return Object.assign({}, state, {\n        mutualLinkedNodes,\n        isLinksShown: action.value,\n      })\n    default:\n      return state;\n  }\n};\n\nexport default graph;","import { combineReducers } from 'redux';\nimport currentView from './currentView';\nimport options from './options';\nimport data from './data';\nimport graph from './graph';\nimport {\n  getConnectedNodes,\n  getRaceHoverText,\n} from '../helpers/processor';\n\n\n/* select by gender */\nconst gender = (state = '', action) => {\n  switch (action.type) {\n    case 'SET_GENDER':\n      return action.value;\n    default:\n      return state;\n  }\n};\n\n/* network view specific info */\nconst network = (state = {}, action) => {\n  switch(action.type) {\n    case 'HOVER_NODE':\n      const connected = getConnectedNodes(action.value.id, action.data.links);\n      const hoverText = `${action.value.name} swam with ${connected.length} swimmer${(connected.length > 1 ? 's' : '')} at ${action.value.records.length} race${action.value.records.length > 1 ? 's' : ''}`;\n      const hoveredId = action.value.id;\n      return Object.assign({}, state, {\n        hoverText,\n        connected,\n        hoveredId,\n        hovered: true,\n      })\n    case 'UNHOVER_NODE':\n      return Object.assign({}, state, {\n        hoverText: '',\n        hovered: false\n      })\n    default:\n      return state;\n  }\n};\n\n/* country view specific info */\nconst country = (state = {}, action) => {\n  switch(action.type) {\n    case 'SET_VIS_DATA':\n      return Object.assign({}, state, {\n        sortCountry: 'athletes',\n        sortAthlete: 'races',\n      });\n    case 'HOVER_RACE':\n      return Object.assign({}, state, {\n        athleteId: action.value.aId,\n        raceId: action.value.raceId,\n        hoverText: getRaceHoverText(action.value),\n        hovered: true,\n      });\n    case 'UNHOVER_RACE':\n      return Object.assign({}, state, {\n        hoverText: '',\n        hovered: false,\n      });\n    case 'SORT_COUNTRIES':\n      return Object.assign({}, state, { sortCountry: action.value });\n    case 'SORT_ATHLETES_PER_COUNTRY':\n      return Object.assign({}, state, { sortAthlete: action.value });\n    default:\n      return state;\n  }\n};\n\n/* race view specific info */\nconst race = (state = {}, action) => {\n  switch(action.type) {\n    case 'HOVER_RACE_ATHLETE':\n      return Object.assign({}, state, {\n        athleteId: action.value.aId,\n        raceId: action.value.raceId,\n        hoverText: getRaceHoverText(action.value),\n        hoverTextCount: `total ${action.value.raceCount} race${action.value.raceCount > 1 ? 's' : ''}`,\n        hovered: true,\n      });\n    case 'UNHOVER_RACE_ATHLETE':\n      return Object.assign({}, state, {\n        hoverText: '',\n        hoverTextCount: '',\n        hovered: false,\n      });\n    default:\n      return state;\n  }\n};\n\nexport default combineReducers({\n  currentView,\n  gender,\n  options,\n  data,\n  graph,\n  network,\n  country,\n  race,\n});","import React, { Component } from 'react';\n\nclass Logo extends Component {\n  render() {\n    return (<div className=\"logo-title\">\n        <span className=\"text-swimmer\">\n          <span>S</span><span>W</span><span>I</span><span>M</span><span>M</span><span>E</span><span>R</span><span>S</span>\n        </span>\n        <span className=\"text-network\">\n          <span>H</span><span>I</span><span>S</span><span>T</span><span>O</span><span>R</span><span>Y</span>\n        </span>\n      </div>)\n  }\n}\n\nexport default Logo;","import React, { Component } from 'react';\n\nclass Footer extends Component {\n\n  render() {\n    return (<div className=\"footer\">\n        <div className=\"container\">\n          <div>\n            View code on <a href=\"https://github.com/tanykim/swimmers-network\" target=\"_blank\" rel=\"noopener noreferrer\" >GitHub</a>\n            <span className=\"divider\">|</span>\n            Data from <a href=\"https://www.swimrankings.net/\" target=\"_blank\" rel=\"noopener noreferrer\" >Swimranknigs</a>\n            <span className=\"divider\">|</span>\n            Made by <a href=\"http://tany.kim\" target=\"_blank\" rel=\"noopener noreferrer\" >Tanyoung Kim</a>\n          </div>\n          <div className=\"second-line\">\n            Read about <a href=\"https://medium.com/@tanykim/data-visualization-of-elite-swimmers-competition-results-part-1-datasets-bd09b68154c2\" target=\"_blank\" rel=\"noopener noreferrer\" >datasets</a> creation, <a href=\"https://medium.com/@tanykim/data-visualization-of-elite-swimmers-competition-results-part-2-design-dc86d77946b8\" target=\"_blank\" rel=\"noopener noreferrer\">visualization design</a> ideation, and discovered <a href=\"https://medium.com/@tanykim/data-visualization-of-elite-swimmers-competition-results-part-3-insights-7ec5862f48a7\" target=\"_blank\" rel=\"noopener noreferrer\">insights</a>\n          </div>\n          <div className=\"share-line\">\n            <span className=\"icon-title\"> Share </span>\n            <a href=\"https://twitter.com/intent/tweet?text=Check out data %23visualization of elite swimmer's network by @tanykim at http%3A%2F%2Ftany.kim/swimmers-history %23dataviz %23d3js %23swimming %23olympics\" target=\"_blank\" rel=\"noopener noreferrer\"><span className=\"typcn typcn-social-twitter-circular\"></span></a>\n            <a href=\"https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Ftany.kim/swimmers-history\" target=\"_blank\" rel=\"noopener noreferrer\"><span className=\"typcn typcn-social-facebook-circular\"></span></a>\n          </div>\n        </div>\n      </div>);\n  }\n}\n\nexport default Footer;\n","import React, { Component } from 'react';\nimport scrollToComponent from 'react-scroll-to-component';\nimport * as d3 from 'd3';\nimport _ from 'lodash';\nimport Logo from './Logo';\nimport Footer from './Footer';\n\nclass IntroComponent extends Component {\n\n  scroll(element) {\n    //scroll to the result when a swimmer is selected\n    scrollToComponent(this.refs[element], {\n      offset: 0,\n      align: 'top',\n      duration: 400\n    });\n  }\n\n  getyearIdx (year, h) {\n    let yPos;\n    if (year % 4 === 0) {\n      yPos = 0;\n    } else if (year % 4 === 2) {\n      yPos = h * 0.4;\n    } else {\n      yPos = h;\n    }\n    return yPos;\n  }\n\n  getYearY (years, d, i, h) {\n    const isEdge = d === 0 || d === years.length - 1 ? true : false;\n    //add slight and random offset\n    return isEdge ? h / 2 : this.getyearIdx(d, h);\n  }\n\n  drawCurves(g, dim, years, x) {\n    let line = d3.line()\n      .curve(d3.curveCatmullRom)\n      .x((d) => x(d))\n      .y((d, i) => this.getYearY(years, d, i, dim.h) + (Math.random() * 10 - 5));\n    const maxW = 12;\n    const lineT1 = d3.line()\n      .curve(d3.curveCatmullRom)\n      .x((d) => x(d))\n      .y((d) => {\n        //set the offset different at each point\n        let offset = Math.random() * (d % 2 === 0 ? -maxW : maxW);\n        return this.getyearIdx(d, dim.h) + offset;\n      });\n    const lineT2 = d3.line()\n      .curve(d3.curveCatmullRom)\n      .x((d) => x(d))\n      .y((d) => {\n        let offset = Math.random() * (d % 2 === 0 ? maxW: -maxW);\n        return this.getyearIdx(d, dim.h) + offset;\n      });\n\n    //make transition of waves\n    const repeat = (wave) => {\n      let speed = Math.random() * 700 + 700;\n      wave.transition()\n        .duration(speed)\n        .attr('d', lineT1)\n        .transition()\n        .duration(speed)\n        .attr('d', lineT2)\n        .on('end', () => repeat(wave));\n    };\n    //draw 5 wave lines\n    _.each(_.range(5), (i) => {\n      let wave = g.append('path')\n        .datum(years)\n        .attr('d', line)\n        .style('fill', 'none')\n        .style('stroke-opacity', Math.random() * 0.7 + 0.3)\n        //slightly add some offset of the wave lines\n        .attr('transform', `translate(0, ${i * 5})`)\n        .attr('class', `js-intro-wave-${i} intro-wave`);\n      if (i % 2 === 0) {\n        //make animation with only half of the lines\n        repeat(wave);\n      }\n    });\n  }\n\n  animateSwimmer (g, years, x, dim) {\n\n    const pause = (elapsed, yearIdx) => {\n      //stop the anmation\n      d3.select('.js-intro-swimmer').interrupt();\n      //highlight the meet in the year\n      const pY = years[yearIdx];\n      const pausedYear = d3.select(`.js-intro-year-${pY}`);\n      pausedYear.classed('intro-year-paused', true);\n      d3.selectAll(`.js-intro-meet-${pY}`).classed('intro-meet-shown', true)\n      //increase year index or move back to the first year if it passes all valid points\n      //initially added 2 (beginning) and 3 (end), thus years.length - 5\n      const newIdx = yearIdx > years.length - 5 ? 2 : yearIdx + 1;\n      //start animation again from the previous points, after delay\n      _.delay(() => {\n        d3.selectAll(`.js-intro-meet-${pY}`)\n          .classed('intro-meet-shown', false)\n          .classed('intro-meet-dimmed', true);\n        pausedYear.classed('intro-year-paused', false);\n        animateCircle(elapsed, newIdx);\n      }, 1000);\n    };\n\n    //base animated path from the wave\n    const xPoints = years.map((d) => x(d)); //get x points of each year\n    const path = d3.select('.js-intro-wave-1');\n    const translateAlong = (pathNode, elapsed, yearIdx) => {\n      const l = pathNode.getTotalLength();\n      return () => {\n        return (t) => {\n          //get the point of the circle at the moment of elapsed time\n          const p = pathNode.getPointAtLength((t + elapsed) * l);\n          //pase the circle if it's near each year\n          if (p.x > xPoints[yearIdx] && p.x < xPoints[yearIdx] + 10) {\n            pause(t + elapsed, yearIdx, p);\n          }\n          return `translate(${p.x},${p.y})`;\n        };\n      };\n    };\n\n    const animateCircle = (elapsed, yearIdx) => {\n      d3.select('.js-intro-swimmer')\n        .transition()\n        .duration(7000)\n        .ease(d3.easeLinear)\n        .attrTween('transform', translateAlong(path.node(), elapsed, yearIdx))\n        .on('end', () => {\n          d3.selectAll(`.js-intro-meet`)\n            .classed('intro-meet-dimmed', false)\n            .classed('intro-meet-hidden', true);\n          animateCircle(0, yearIdx);\n        });\n    };\n\n    //start animate the swimmer circle, pause at the 2nd point of the curve\n    animateCircle(0, 2);\n  }\n\n  drawYearBg(g, h, margin, xPos) {\n    //year line\n    g.append('line')\n      .attr('x1', xPos)\n      .attr('x2', xPos)\n      .attr('y1', 0 - margin.top)\n      .attr('y2', h + margin.bottom)\n      .attr('class', 'intro-year-line');\n  }\n\n  drawYear(g, margin, year, xPos, yPos, meets) {\n    const angle = year % 2 === 0 ? -45 : 45;\n    //year text\n    let yG = g.append('g');\n    yG.append('rect')\n      .attr('x', xPos)\n      .attr('y', yPos)\n      .attr('width', 42)\n      .attr('height', 20)\n      .attr('class', `js-intro-years js-intro-year-${year} intro-year-bg`);\n    yG.append('text')\n      .attr('x', xPos + (year % 2 === 0 ? -4 : 4))\n      .attr('y', yPos + (year % 2 === 0 ? -4 : 4))\n      .text(year)\n      .attr('class', `intro-year-text intro-year-${year % 2 === 0 ? 'top' : 'bottom'}`)\n      .attr('transform', `rotate(${year % 2 === 0 ? 180 : 0}, ${xPos}, ${yPos})`);\n    yG.attr('transform', `rotate(${angle -90}, ${xPos}, ${yPos})`);\n    //meet names\n    let mG = g.append('g')\n    _.each(meets, (meet, i) => {\n      mG.append('text')\n        .attr('x', xPos)\n        .attr('y', yPos + i * 16 + (year % 2 === 0 ? 8 : 0))\n        .attr('dy', 6)\n        .text(`${meet.meet} - ${meet.location}`)\n        .attr('class', `js-intro-meet js-intro-meet-${year} intro-meet-hidden intro-meet-${year % 2 === 0 ? 'top' : 'bottom'}`)\n    });\n    mG.attr('transform', `rotate(${angle}, ${xPos}, ${yPos})`)\n  }\n\n  drawIntroVis(yearsProp, byYear) {\n    const w = document.getElementById('intro-vis').clientWidth;\n    const margin = { top: 140, right: 0, bottom: 150, left: 0 };\n    const dim = { w: w - margin.left - margin.right, h: 100 };\n    d3.select('#intro-vis-svg')\n      .attr('width', dim.w + margin.left + margin.right)\n      .attr('height', dim.h + margin.top + margin.bottom);\n    const g = d3.select('#intro-vis-g')\n      .attr('transform', `translate(${margin.left}, ${margin.top})`);\n    let firstYear;\n    let lastYear;\n    let years = _.clone(yearsProp);\n    _.each(_.range(2), (i) => {\n      firstYear = years[0];\n      years.unshift(firstYear - 1);\n    });\n    _.each(_.range(3), (i) => {\n      lastYear = years[years.length - 1];\n      years.push(lastYear + 1);\n    });\n    const x = d3.scaleLinear().range([0, dim.w]).domain([firstYear, lastYear]);\n\n    //background for logo\n    _.each(_.range(7), (i) => {\n      d3.select('#intro-logo-bg')\n        .append('path')\n        .datum(years)\n        .attr('d', d3.line()\n          .curve(d3.curveCatmullRom)\n          .x((d) => x(d))\n          .y((d, i) => this.getYearY(years, d, i, dim.h / 3) + (Math.random() * 10 - 5))\n        )\n        .style('fill', 'none')\n        .style('stroke-opacity', Math.random() * 0.4)\n        //slightly add some offset of the wave lines\n        .attr('transform', `translate(0, ${i * 5})`)\n        .attr('class', `intro-wave-top`);\n    });\n\n    //draw year bg line\n    _.each(byYear, (meets, key) => {\n      let xPos = x(+key);\n      //draw year bg line\n      this.drawYearBg(g, dim.h, margin, xPos);\n    });\n\n    //draw curves\n    this.drawCurves(g, dim, years, x);\n\n    //draw animated swimmer\n    g.append('circle')\n      .attr('r', 10)\n      .attr('class', 'intro-swimmer js-intro-swimmer');\n\n    //draw year and games\n    _.each(byYear, (meets, key) => {\n      let year = +key;\n      let xPos = x(year);\n      let yPos = this.getyearIdx(year, dim.h);\n      //draw year bg line\n      this.drawYear(g, margin, year, xPos, yPos, meets);\n    });\n\n    //animate swimmer\n    this.animateSwimmer(g, years, x, dim);\n  }\n\n  componentDidMount() {\n    this.props.setGender();\n    this.drawIntroVis(this.props.years, this.props.byYear);\n  }\n\n  componentWillUnmount() {\n    d3.select('.js-intro-swimmer').interrupt();\n  }\n\n  render() {\n    return (<div className=\"intro\">\n      <div className=\"logo-wrapper is-hidden-mobile\">\n        <div className=\"logo-bg\">\n          <svg><g id=\"intro-logo-bg\"></g></svg>\n        </div>\n        <div className=\"container\">\n          <div className=\"columns\">\n            <div className=\"column is-one-third-desktop \">\n              <Logo />\n            </div>\n            <div className=\"column is-two-thirds-desktop logo-right is-hidden-mobile\">\n              <span className=\"header-button\">\n                <a className={`button ${this.props.isLoading ? 'is-loading' : ''} intro-button`}\n                  onClick={this.props.setDefaultOptions}>\n                  Start with Olympians\n                </a>\n              </span>\n              <span className=\"intro-link\" onClick={() => this.scroll('vis')}>Visualization</span>\n              <span className=\"intro-link\" onClick={() => this.scroll('datasets')}>Datasets</span>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"logo-wrapper-mobile is-hidden-desktop\">\n        <Logo />\n      </div>\n      <div className=\"section is-hidden-desktop intro-warning\">\n        <div className=\"desktop-icon\" />\n        <div className=\"desc\">\n          Big screen is reommended for the full functionality and views of data visualizations.\n        </div>\n      </div>\n      <div className=\"is-hidden-mobile intro-vis-wrapper\" id=\"intro-vis\">\n        <svg id=\"intro-vis-svg\">\n          <g id=\"intro-vis-g\"/>\n        </svg>\n      </div>\n      <div className=\"container intro-vis-content\">\n        <div className=\"columns is-multiline\">\n          <div className=\"column is-8 is-offset-2 radio-selection\" ref=\"vis\">\n            <div><strong>Explore the swimmers from the Olympics first!</strong>\n            <br/>\n            Choose an example of a subset of data</div>\n          </div>\n          <div className=\"column is-4 is-offset-2 radio-wrapper\">\n            <label className=\"radio\" disabled={this.props.isLoading}>\n              <input\n                type=\"radio\"\n                name=\"gender\"\n                value=\"women\"\n                checked={this.props.gender === 'women'}\n                disabled={this.props.isLoading}\n                onChange={this.props.setGender} /> <strong>WOMEN</strong>\n              <div className=\"radio-desc\">\n                All butterfly and individual medley races <br/>in 2012, and 2016\n              </div>\n            </label>\n          </div>\n          <div className=\"column is-4 radio-wrapper-right\">\n            <label className=\"radio\" disabled={this.props.isLoading}>\n              <input\n                type=\"radio\"\n                name=\"gender\"\n                value=\"men\"\n                checked={this.props.gender === 'men'}\n                disabled={this.props.isLoading}\n                onChange={this.props.setGender} /> <strong>MEN</strong>\n              <div className=\"radio-desc\">\n                All individual races in 2016\n              </div>\n            </label>\n          </div>\n          <div className=\"column is-12 button-wrapper\">\n            <a className={`button is-large ${this.props.isLoading ? 'is-loading' : ''} intro-button`}\n              onClick={this.props.setDefaultOptions}>\n              Generate Visualization\n            </a>\n          </div>\n        </div>\n      </div>\n      <div className=\"intro-datasets\" ref=\"datasets\">\n        <div className=\"container\">\n          <div className=\"columns is-multiline\">\n            <div className=\"column is-12\">\n              <div className=\"dataset-headline\">\n                Make your own visualizations with the data of <br/>\n                <strong>{this.props.totalCount.women}</strong> women and <strong>{this.props.totalCount.men}</strong> men swimmers' race history\n                from the following meets\n              </div>\n              { _.cloneDeep(this.props.years).reverse().map((year) => {\n                  const list = this.props.byYear[year];\n                  return (<div className=\"year-wrapper\" key={year}>\n                      <span className=\"year\">{year}</span>\n                      <div className=\"year-line\"></div>\n                        { _.cloneDeep(list).reverse().map((m, i) => (<div className=\"meet\" key={i}>\n                            <div className={`meet-name${i === 0 ? ' meet-first' : ''}${i === list.length - 1 ? ' meet-last' : ''}`}>\n                              {m.meet.split(' ').map((word, j) => <span key={j}><strong>{word.charAt(0)}</strong>{word.slice(1)} </span>)}\n                            </div>\n                            <div className={`meet-info${i === 0 ? ' meet-first' : ''}${i === list.length - 1 ? ' meet-last' : ''}`}>\n                              {m.location}, {m.dates} <br/>\n                              <strong>{m.swimmerCount.women}</strong> women and <strong>{m.swimmerCount.men}</strong> men swimmers\n                            </div>\n                          </div>))}\n                    </div>);\n                })}\n            </div>\n          </div>\n        </div>\n      </div>\n      <Footer />\n    </div>);\n  }\n}\n\nexport default IntroComponent;\n","import { connect } from 'react-redux';\nimport IntroComponent from '../components/Intro'\n\nconst mapStateToProps = (state, ownProps) => (\n  {\n    gender: state.gender,\n    isLoading: state.currentView.isLoading,\n    ...state.data.yearInfo,\n  }\n)\n\nconst mapDispatchToProps = (dispatch) => (\n  {\n    setGender: (value) => {\n      dispatch({ type: 'SET_GENDER', value });\n    },\n    setDefaultOptions: (value) => {\n      dispatch({ type: 'SET_DEFAULT_OPTIONS', value });\n    },\n  }\n)\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) => {\n  return Object.assign({}, {\n    ...stateProps,\n    setGender: (e) => {\n      //default men\n      const gender = e ? e.currentTarget.value : 'men';\n      dispatchProps.setGender(gender);\n    },\n    setDefaultOptions: () => {\n      dispatchProps.setDefaultOptions(stateProps.gender);\n    },\n  })\n}\n\n\nexport default connect(mapStateToProps,\n  mapDispatchToProps,\n  mergeProps)(IntroComponent)","import React, { Component } from 'react';\nimport Logo from './Logo';\n\nclass HeaderComponent extends Component {\n\n  render() {\n    return (<div className=\"header\">\n      <div className=\"container\">\n        <div className=\"columns\">\n          <div className=\"column is-half\" onClick={() => this.props.goIntro()}>\n            <Logo />\n          </div>\n          <div className=\"column is-half header-gender\">\n            <span className=\"gender-change\" onClick={() => this.props.switchGender()}>\n              <span className=\"typcn typcn-arrow-right\" />{ this.props.gender === 'women' ? 'men' : 'women' }\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>);\n  }\n}\n\nexport default HeaderComponent;","import { connect } from 'react-redux';\nimport HeaderComponent from '../components/Header'\n\nconst mapStateToProps = (state, ownProps) => (\n  {\n    gender: state.gender,\n  }\n)\n\nconst mapDispatchToProps = (dispatch) => (\n  {\n    goIntro: () => {\n      dispatch({ type: 'SET_CURRENT_VIEW', value: 'intro' });\n    },\n    switchGender: (value) => {\n      dispatch({ type: 'SET_GENDER', value });\n      dispatch({ type: 'SET_DEFAULT_OPTIONS', value });\n      dispatch({ type: 'RESET_GRAPH' });\n    },\n  }\n)\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) => {\n  return Object.assign({}, {\n    ...stateProps,\n    goIntro: () => {\n      dispatchProps.goIntro();\n    },\n    switchGender: () => {\n      dispatchProps.switchGender(stateProps.gender === 'men' ? 'women' : 'men');\n    },\n  })\n}\n\nexport default connect(mapStateToProps,\n  mapDispatchToProps,\n  mergeProps)(HeaderComponent)","import React, { Component } from 'react';\n\nclass SummaryComponent extends Component {\n  render() {\n    const csList = (list) => (\n      list.map((item, i) => `${item.slice(1, item.length)}${i < list.length - 1 ? ', ' : ''}`)\n    );\n\n    const { count, gender, meets, events, names } = this.props;\n    return (\n      <div className=\"summary-list\" id=\"summary-list\">\n        <span className=\"summary-gender\"><strong>{count}</strong> {gender.toUpperCase()}</span>\n        { //meets\n          meets.map((m, i) => (<span key={m[0]} className=\"kind kind-events\">\n          {m[0].slice(1, m[0].length)} ({csList(m[1])})\n          {i < meets.length - 1 ? '+ ' : ''}\n        </span>)) }\n        <span className=\"typcn typcn-times\" />\n        { //events\n          <span className=\"kind\">{csList(events)}</span>\n        }\n        { //names\n          names.length > 0 && <span><span className=\"typcn typcn-times\" />\n            <span className=\"kind\">\n              { names.map((name, i) => `${name.name}${ i < this.props.names.length - 1 ? ', ' : ''}`) }\n            </span>\n        </span> }\n      </div>\n    );\n  }\n}\n\nexport default SummaryComponent;\n","import React, { Component } from 'react';\n\nclass PanelComponent extends Component {\n  render() {\n    const { kind, selParent, sel, gender } = this.props;\n    return (<div className=\"column is-one-third\">\n      <div className={`kind-wrapper-${kind.key}`}>\n        <div className=\"kind-title\">{ kind.key }</div>\n        { kind.lists.map((type, j) => (<div key={j}>\n          <div className=\"items-title\">\n            <strong>{ type.type }</strong>\n            <span\n              className={`typcn typcn-${selParent[kind.key][type.key] ? 'minus' : 'plus'}`}\n              onClick={() => this.props.toggleSelParent(kind.key, type.key)}\n            />\n          </div>\n          <ul className=\"items\">\n            { type.list.map((item, k) => {\n              const isDisabled = (kind.key === 'events' &&\n                ((gender === 'women' && k === 5) ||\n                (gender === 'men' && k === 4)));\n              return (<li key={k}>\n                <label className=\"checkbox\">\n                  { !isDisabled && <input\n                    type=\"checkbox\"\n                    checked={sel[kind.key][type.key][item.key]}\n                    value={[kind.key, type.key, item.key, sel[kind.key][type.key][item.key]]}\n                    onChange={this.props.updateSelection}\n                  /> }\n                  <span className={isDisabled ? 'list-disabled' : 'list-normal'}>\n                    { item.name }\n                  </span>\n                </label>\n              </li>);\n            })}\n          </ul>\n        </div>))}\n      </div>\n    </div>);\n  }\n}\n\nexport default PanelComponent;","import React, { Component } from 'react';\nimport Select from 'react-select';\n\nclass NamesComponent extends Component {\n  render() {\n    return (<div className=\"column is-one-third\">\n      <div className=\"kind-wrapper-names\">\n        <div className=\"kind-title\">swimmers</div>\n        <div className=\"items-title\">\n          <span className=\"radio-label\"><input type=\"radio\"\n            name=\"athelete\"\n            value=\"all\"\n            checked={this.props.nameOption === 'all'}\n            onChange={this.props.updateNameOption}\n          /> All swimmers</span>\n          <br/>\n          <span className=\"radio-label\"><input type=\"radio\"\n            name=\"athelete\"\n            value=\"search\"\n            checked={this.props.nameOption === 'search'}\n            onChange={this.props.updateNameOption}\n          /> Swimmers who competed with at least one of the following swimmers</span>\n        </div>\n        { this.props.nameOption === 'search' && <div className=\"select-wrapper\">\n          <Select\n            name=\"form-field-name\"\n            value=\"\"\n            clearable={false}\n            options={this.props.list}\n            onChange={this.props.addName}\n            placeholder=\"Search...\"\n          />\n          { this.props.searchedAthletes.map((a, i) => (<div className=\"selected-list\" key={i}>\n            <div>\n              <span className=\"selected-list-name\">{ a.name } ({ a.country })</span>\n              <span onClick={() => this.props.removeName(a.id)} className=\"typcn typcn-minus\"/>\n            </div>\n          </div>)) }\n        </div> }\n      </div>\n    </div>);\n  }\n}\n\nexport default NamesComponent;","import React, { Component } from 'react';\nimport _ from 'lodash';\nimport Summary from './Options-summary';\nimport Panel from './Options-panel';\nimport Names from './Options-names';\n\nclass OptionsComponent extends Component {\n\n  componentWillReceiveProps(nextProps) {\n    let panel = document.getElementById('options-panels').style;\n    let summary = document.getElementById('summary-list').style;\n    if (nextProps.isOpen) {\n      panel.top = `${document.getElementById('options-summary').offsetHeight - 12}px`;\n      panel.display = 'block';\n      //hide summary list\n      summary.visibility = 'hidden';\n    } else {\n      panel.display = 'none';\n      summary.visibility = 'visible';\n    }\n\n    if(!_.isEqual(this.props.sel, nextProps.sel) ||\n      !_.isEqual(this.props.searchedAthletes, nextProps.searchedAthletes) ) {\n      nextProps.setTempData();\n    }\n  }\n\n  render() {\n    return (<div className=\"columns is-multiline options-wrapper\" id=\"options-summary\">\n      <div className=\"column is-two-thirds summary\">\n        <Summary\n          {...this.props.racesInfo}\n          names={this.props.originalNames}\n          gender={this.props.gender}\n          count={this.props.count}\n        />\n        { this.props.isOpen && <div className=\"temp-count\">\n          <span className=\"count\">\n            {this.props.tempCount === undefined ? this.props.count : this.props.tempCount}\n          </span> { this.props.gender } swimmers found.\n          { this.props.tempCount === 0 && <span className=\"count-warning\"> Modify your selection.</span>}\n        </div> }\n      </div>\n      <div className=\"column is-one-third buttons\">\n        { !this.props.isOpen ?\n          <a className=\"button is-small modify\" onClick={this.props.toggle}>\n            <span className=\"typcn typcn-edit\"/>MODIFY\n          </a> :\n          <span>\n            <a className=\"button is-small update\" onClick={this.props.update} disabled={this.props.tempCount === 0}>\n              <span className=\"typcn typcn-refresh\"/>UPDATE\n            </a>\n            <a className=\"button is-small cancel\" onClick={this.props.cancel}>\n              <span className=\"typcn typcn-times\"/>CANCEL\n            </a>\n          </span> }\n      </div>\n      <div className=\"column is-12 panels\" id=\"options-panels\" style={{ display: 'none' }}>\n        { this.props.isOpen && <div className=\"columns\">\n          { this.props.optionList.map((kind, i) => <Panel {...this.props} kind={kind} key={i}/>)}\n          <Names {...this.props}/>\n        </div> }\n      </div>\n    </div>);\n  }\n}\n\nexport default OptionsComponent;","import { connect } from 'react-redux';\nimport _ from 'lodash';\nimport OptionsComponent from '../components/Options';\nimport { getOptionsArray } from '../helpers/processor';\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    ...state.options,\n    optionList: getOptionsArray(state.options.category, state.options.sel),\n    gender: state.gender,\n    racesInfo: state.data.racesInfo,\n    count: state.data.graph.nodes.length,\n    tempCount: state.data.athletesCount,\n    isLoading: state.currentView.isLoading,\n  }\n};\n\nconst mapDispatchToProps = (dispatch) => (\n  {\n    updateSelection: (value) => {\n      dispatch({ type: 'SET_SELECTION', value })\n    },\n    updateNameOption: (value) => {\n      dispatch({ type: 'SET_NAME_OPTION', value })\n    },\n    update: () => {\n      dispatch({ type: 'RESET_GRAPH'})\n    },\n    cancel: () => {\n      dispatch({ type: 'CANCEL' })\n    },\n    addName: (value) => {\n      dispatch({ type: 'ADD_ATHLETE', value })\n    },\n    removeName: (value) => {\n      dispatch({ type: 'REMOVE_AHLETE', value })\n    },\n    toggleSelParent: (kind, type) => {\n      dispatch( { type: 'TOGGLE_SEL_PARENT', value: { kind, type } })\n    },\n    toggle: (isOpen) => {\n      dispatch({ type: 'TOGGLE_OPTIONS', value: !isOpen });\n    },\n    setTempData: (value) => {\n      dispatch({ type: 'SET_TEMP_DATA', value });\n    }\n  }\n);\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) => {\n  return Object.assign({}, {\n    ...stateProps,\n    updateSelection: (e) => {\n      dispatchProps.updateSelection(e.currentTarget.value);\n    },\n    updateNameOption: (e) => {\n      dispatchProps.updateNameOption(e.currentTarget.value);\n    },\n    update: () => {\n      if (stateProps.tempCount > 0) {\n        dispatchProps.update();\n      }\n    },\n    cancel: () => {\n      dispatchProps.cancel();\n    },\n    addName: (e) => {\n      dispatchProps.addName(e.value);\n    },\n    removeName: (id) => {\n      dispatchProps.removeName(id);\n    },\n    toggleSelParent: (kind, type) => {\n      dispatchProps.toggleSelParent(kind, type);\n    },\n    toggle: () => {\n      dispatchProps.toggle(stateProps.isOpen);\n    },\n    setTempData: () => {\n      dispatchProps.setTempData(_.pick(stateProps, ['gender', 'sel', 'searchedAthletes']));\n    }\n  })\n};\n\n\nexport default connect(mapStateToProps,\n  mapDispatchToProps,\n  mergeProps)(OptionsComponent)","import React, { Component } from 'react';\nimport ReactResizeDetector from 'react-resize-detector';\nimport * as d3 from 'd3';\nimport _ from 'lodash';\nimport Tippy from 'tippy.js';\n\nclass NetworkComponent extends Component {\n\n  dragstarted(d, simulation) {\n    if (!d3.event.active) {\n      simulation.alphaTarget(0.5).restart();\n    }\n    d.fx = d.x;\n    d.fy = d.y;\n  }\n\n  dragged(d) {\n    d.fx = d3.event.x;\n    d.fy = d3.event.y;\n  }\n\n  dragended(d, isClicked, simulation) {\n    if (!d3.event.active) {\n      simulation.alphaTarget(0);\n    }\n    d.fx = null;\n    d.fy = null;\n  }\n\n  ticked(link, node) {\n    link.attr('x1', (d) => d.source.x )\n      .attr('y1', (d) => d.source.y )\n      .attr('x2', (d) => d.target.x )\n      .attr('y2', (d) => d.target.y );\n    node.attr('cx', (d) => d.x )\n      .attr('cy', (d) => d.y );\n  }\n\n  drawGraph(props) {\n    const { graph, pointRange, linksRange } = props;\n    //set the size\n    const w = document.getElementById('vis-network-width').clientWidth;\n    const dim = w * 0.8;\n    d3.select('#svg-network').attr('height', Math.round(dim));\n    let svg = d3.select('#network-g');\n    //1: no animation at first, 0: move more, dispersed\n    const decayRange = d3.scaleLinear().range([0.5, 1]).domain([1, 800]);\n    const distRange = d3.scaleLinear().range([dim, dim / 10]).domain([0, 800]);\n    const simulation = d3.forceSimulation()\n      .force('link', d3.forceLink()\n        .id((d) => d.id)\n        .distance(() => distRange(graph.nodes.length) / 10)\n      )\n      .force('charge', d3.forceManyBody()\n        .distanceMax(distRange(graph.nodes.length))\n      )\n      .force('collide', d3.forceCollide()\n        .iterations(10)\n      )\n      .force('center', d3.forceCenter(w / 2, dim / 2))\n      .velocityDecay(Math.max(Math.min(decayRange(graph.nodes.length), 1), 0.2));\n\n    //link as lines\n    let linkG = svg.append('g').attr('id', 'links');\n    const linkValRange = d3.scaleLinear().range([1, 100]).domain(linksRange);\n    let link = linkG.selectAll('line')\n        .data(graph.links)\n        .enter().append('line')\n        .style('stroke-width', (d) => Math.sqrt(linkValRange(d.value)))\n        .attr('class', 'link-normal')\n        .attr('id', (d) => `${_.min([d.source.id || d.source, d.target.id || d.target])}-${_.max([d.source.id || d.source, d.target.id || d.target])}`);\n\n    //node as circles\n    //set radius size (min: square root of radius), point range min is 700\n    let radius = d3.scaleLinear()\n      .range([9, graph.nodes.length * 1.9])\n      .domain(pointRange);\n    let nodeG = svg.append('g').attr('id', 'nodes');\n    let self = this;\n    let node = nodeG.selectAll('circle')\n      .data(graph.nodes)\n      .enter().append('circle')\n      .attr('id', (d) => d.id)\n      .attr('r', (d) => {\n        const points = _.map(d.records, 'point');\n        const total = _.reduce(points, (memo, num) => {\n            return memo + num;\n        }, 0);\n        return total <= 700 ? 3 : Math.sqrt(radius(total));\n      })\n      .attr('class', (d) => `node-normal${d.place <= 3 ? ` node-${d.place}` : ''}`)\n      .call(d3.drag()\n        .on('start', (d) => this.dragstarted(d, simulation))\n        .on('drag', this.dragged)\n        .on('end', function (d) {\n          return self.dragended(d, d3.select(this).attr('clicked'), simulation);\n        }))\n      .on('mouseover', (d) => {\n        if ('ontouchstart' in document) {\n          return false;\n        }\n        this.props.mouseOverFunc(d);\n      })\n      .on('mouseout', (d) => {\n        if ('ontouchstart' in document) {\n          return false;\n        }\n        this.props.mouseOutFunc();\n      })\n      .on('click', (d) => this.props.clickFunc(d));\n    simulation.nodes(graph.nodes).on('tick', () => this.ticked(link, node));\n    simulation.force('link').links(graph.links);\n  }\n\n  updateGraph(nextProps) {\n    d3.select('#links').remove();\n    d3.select('#nodes').remove();\n    this.drawGraph(nextProps);\n  }\n\n  highlightElements(props, status) {\n    //filter all linked nodes\n    d3.selectAll('circle')\n      .filter((d) => _.includes(props.mutualLinkedNodes, d.id))\n      .classed('node-all-linked', status);\n    //highlight links\n    _.each(props.clickedIds, (c, i) => {\n        //concatnate the previously clicked IDs with added IDs\n        //splice its own id\n        _.each(props.mutualLinkedNodes.concat(_.cloneDeep(props.clickedIds).splice(i)), (id) => {\n          const combination = `${Math.min(+c, +id)}-${Math.max(+c, +id)}`;\n          d3.selectAll(`line[id=\"${combination}\"]`).classed('link-all-linked', status);\n        });\n    });\n  }\n\n  highlightAthletes(ids, status) {\n    _.each(ids, (d) => {\n      d3.select(`circle[id=\"${d}\"]`).classed('node-clicked', status);\n    })\n  }\n\n  componentWillReceiveProps(nextProps) {\n    //option change\n    if (this.props.graph !== nextProps.graph) {\n      this.updateGraph(nextProps);\n      return false;\n    }\n    //mouse over/out\n    if (this.props.hovered !== nextProps.hovered) {\n      _.each(nextProps.connected, (c) => {\n        const combination = `${Math.min(+c, +nextProps.hoveredId)}-${Math.max(+c, +nextProps.hoveredId)}`;\n        d3.select(`circle[id=\"${nextProps.hoveredId}\"]`)\n          .attr('title', nextProps.hoverText)\n          .classed('node-over', nextProps.hovered);\n        d3.select(`line[id=\"${combination}\"]`).classed('link-over', nextProps.hovered);\n        d3.select(`circle[id=\"${c}\"]`).classed('node-linked', nextProps.hovered);\n      });\n      if (nextProps.hovered) {\n        console.log('-----');\n        Tippy(`circle[id=\"${nextProps.hoveredId}\"]`, {\n          arrow: true,\n          animation: 'fade',\n          size: 'small',\n          duration: 0,\n        });\n      }\n    }\n    //click\n    if (nextProps.clicked || this.props !== nextProps.clicked) {\n      d3.select(`circle[id=\"${nextProps.clickedId}\"]`).classed('node-clicked', nextProps.clicked);\n      if (this.props.isLinksShown) {\n        this.highlightElements(this.props, false);\n        this.highlightElements(nextProps, true);\n      }\n    }\n    //removed from the results table, or from the legends\n    if (this.props.clickedIds !== nextProps.clickedIds) {\n      this.highlightAthletes(this.props.clickedIds, false);\n      this.highlightAthletes(nextProps.clickedIds, true);\n      if (this.props.isLinksShown) {\n        this.highlightElements(this.props, false);\n        this.highlightElements(nextProps, true);\n      }\n    }\n    //links View\n    if (this.props.isLinksShown !== nextProps.isLinksShown) {\n      this.highlightElements(nextProps, nextProps.isLinksShown);\n    }\n  }\n\n  componentDidMount() {\n    this.drawGraph(this.props);\n    if (this.props.clickedIds.length > 0) {\n      //highlight clicked circle\n      _.each(this.props.clickedIds, (d) => {\n        d3.select(`circle[id=\"${d}\"]`).classed('node-clicked', true);\n      })\n      //highlight link connection\n      if (this.props.isLinksShown) {\n        this.highlightElements(this.props, true);\n      }\n    }\n  }\n\n  _onResize() {\n    this.updateGraph(this.props);\n  }\n\n  render() {\n    return (<div>\n      { this.props.clickedIds.length > 1 && <div className=\"network-options\">\n        <label className=\"radio\">\n          <input\n            type=\"radio\"\n            name=\"highlightElms\"\n            value=\"nodes\"\n            checked={!this.props.isLinksShown}\n            onChange={this.props.toggleLinkedNodes} /> Only selected swimmers\n        </label>\n        <label className=\"radio\">\n          <input\n            type=\"radio\"\n            name=\"highlightElms\"\n            value=\"network\"\n            checked={this.props.isLinksShown}\n            onChange={this.props.toggleLinkedNodes} /> Selected and connected swimmers\n        </label>\n      </div> }\n      <div className=\"network\" id=\"vis-network-width\">\n        <svg id=\"svg-network\" style={{width: '100%'}}>\n          <g id=\"network-g\"></g>\n        </svg>\n        <ReactResizeDetector handleWidth onResize={this._onResize.bind(this)} />\n      </div>\n    </div>\n    );\n  }\n}\n\nexport default NetworkComponent;","import { connect } from 'react-redux';\nimport NetworkComponent from '../components/Network';\n\nconst mapStateToProps = (state, ownProps) => {\n  const { graph, pointRange, linksRange } = state.data;\n  return {\n    graph, pointRange, linksRange,\n    ...state.graph,\n    ...state.network,\n  }\n};\n\nconst mapDispatchToProps = (dispatch) => (\n  {\n    mouseOverFunc: (value, data) => {\n      dispatch({ type: 'HOVER_NODE', value, data })\n    },\n    mouseOutFunc: () => {\n      dispatch({ type: 'UNHOVER_NODE' })\n    },\n    clickFunc: (value, links) => {\n      dispatch({ type: 'SELECT_ATHLETE', value, links })\n    },\n    toggleLinkedNodes: (value, links) => {\n      dispatch({ type: 'TOGGLE_VIEW', value: value === 'network' ? true : false, links })\n    },\n  }\n);\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) => {\n  return Object.assign({}, {\n    ...stateProps,\n    mouseOverFunc: (d) => {\n      return dispatchProps.mouseOverFunc(d, stateProps.graph);\n    },\n    mouseOutFunc: () => {\n      return dispatchProps.mouseOutFunc();\n    },\n    clickFunc: (d) => {\n      return dispatchProps.clickFunc(d, stateProps.graph.links);\n    },\n    toggleLinkedNodes: (e) => {\n      return dispatchProps.toggleLinkedNodes(e.currentTarget.value, stateProps.graph.links);\n    },\n  })\n};\n\n\nexport default connect(mapStateToProps,\n  mapDispatchToProps,\n  mergeProps)(NetworkComponent);","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport _ from 'lodash';\nimport Tippy from 'tippy.js';\nimport Countries from '../data/countries.json';\n\nclass CountryComponent extends Component {\n\n  drawLinear(props) {\n    //data\n    const { countryList } = props;\n    _.each(countryList, (c) => {\n      //show flag\n      const { country, athletes } = c;\n      const code = Countries[country];\n      d3.select('#div-country')\n        .append('span')\n        .html(`${country} <i>${athletes.length}</i>`)\n        .attr('class', `${code ? `fl-icon flag-icon-${code.toLowerCase()} ` : ' '} athlete-country`);\n\n      _.each(athletes, (a, i) => {\n        const styles = a.records.map((r, j) => {\n          let s = 'btw';\n          if (a.records.length === 1) {\n            s = 'single';\n          } else if (j === 0) {\n            s = 'first';\n          } else if (j === a.records.length - 1) {\n            s = 'last';\n          }\n          return s;\n        });\n        _.each(a.records, (r, j) => {\n          const neighbor = (j > 0 && +a.records[j - 1].place < 4 && +r.place < 4) ? true : false;\n          const lastA = (j === a.records.length - 1 && i === athletes.length - 1) ? true : false;\n          d3.select(`#div-country`)\n            .append('span')\n            .attr('id', `${a.id}-${r.race_id}`)\n            .attr('class', `js-a-${a.id} r-general js-r-${r.race_id} r-${r.place} r-${styles[j]}${neighbor ? ' r-neighbor': ''}${lastA ? ' r-a-last' : ''}`)\n            .on('mouseover', () => {\n              if ('ontouchstart' in document) {\n                return false;\n              }\n              this.props.mouseOverFunc(r.race_id, a.name, a.id, r.place);\n            })\n            .on('mouseout', () => {\n              if ('ontouchstart' in document) {\n                return false;\n              }\n              this.props.mouseOutFunc();\n            })\n            .on('click', () => {\n              this.props.clickFunc(a);\n            })\n        })\n      });\n    })\n  }\n\n  updateGraph(nextProps) {\n    d3.select('#div-country').html('');\n    this.drawLinear(nextProps);\n  }\n\n  highlightAthletes(ids, status) {\n    _.each(ids, (d) => {\n      d3.selectAll(`.js-a-${d}`).classed('a-clicked', status);\n    })\n  }\n\n  componentDidMount() {\n    this.drawLinear(this.props);\n    if (this.props.clickedIds.length > 0) {\n      this.highlightAthletes(this.props.clickedIds, true);\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    //option change\n    if (this.props.countries !== nextProps.countries) {\n      this.updateGraph(nextProps);\n      return false;\n    }\n    //mouse over\n    if (this.props.hovered !== nextProps.hovered) {\n      d3.select(`span[id=\"${nextProps.athleteId}-${nextProps.raceId}\"]`)\n        .attr('title', nextProps.hoverText);\n      d3.selectAll(`.js-r-${nextProps.raceId}`).classed('r-hover', nextProps.hovered);\n      if (nextProps.hovered) {\n        Tippy(`span[id=\"${nextProps.athleteId}-${nextProps.raceId}\"]`, {\n          arrow: true,\n          animation: 'fade',\n          size: 'small',\n          duration: 0\n        });\n      }\n    }\n    //click\n    if (nextProps.clicked || this.props !== nextProps.clicked) {\n      d3.selectAll(`.js-a-${nextProps.clickedId}`)\n        .classed('a-clicked', nextProps.clicked);\n    }\n    //race selected\n    if (this.props.clickedIds !== nextProps.clickedIds) {\n      this.highlightAthletes(this.props.clickedIds, false);\n      this.highlightAthletes(nextProps.clickedIds, true);\n    }\n    //sort changes\n    if (this.props.countryList !== nextProps.countryList) {\n      this.updateGraph(nextProps);\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"country\" id=\"vis-country-width\">\n        <div className=\"country-top\">\n          <div className=\"country-total\"><strong>{this.props.countryList.length}</strong> Countries</div>\n          <div className=\"country-sort\">\n            <span>Sort countries</span>\n            <p className=\"control\">\n              <span className=\"select is-small\">\n                <select value={this.props.sortCountry} onChange={this.props.sortCountries}>\n                  <option value=\"alphabetical\">A to Z</option>\n                  <option value=\"athletes\">Number of swimmers</option>\n                </select>\n              </span>\n            </p>\n            <span> then athletes</span>\n            <p className=\"control\">\n              <span className=\"select is-small\">\n                <select value={this.props.sortAthlete} onChange={this.props.sortAthletes}>\n                  <option value=\"races\">Number of races</option>\n                  <option value=\"points\">Points (high to low)</option>\n                  <option value=\"alphabetical\">First name (A to Z)</option>\n                </select>\n              </span>\n            </p>\n          </div>\n        </div>\n        <div id=\"div-country\" className=\"country-linear\">\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default CountryComponent;\n","import { connect } from 'react-redux';\nimport CountryComponent from '../components/Country';\n\nconst mapStateToProps = (state, ownProps) => {\n  const { countryList, graph } = state.data;\n  const { clickedId, clicked, clickedIds } = state.graph;\n  return {\n    countryList,\n    links: graph.links,\n    ...state.country,\n    clickedId,\n    clicked,\n    clickedIds,\n  }\n};\n\nconst mapDispatchToProps = (dispatch) => (\n  {\n    mouseOverFunc: (raceId, aName, aId, place) => {\n      dispatch({ type: 'HOVER_RACE', value: { raceId, aName, aId, place } });\n    },\n    mouseOutFunc: (value) => {\n      dispatch({ type: 'UNHOVER_RACE' });\n    },\n    clickFunc: (value, links) => {\n      dispatch({ type: 'SELECT_ATHLETE', value, links });\n    },\n    sortCountries: (value) => {\n      dispatch({ type: 'SORT_COUNTRIES', value });\n    },\n    sortAthletes: (value) => {\n      dispatch({ type: 'SORT_ATHLETES_PER_COUNTRY', value });\n    }\n  }\n);\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) => {\n  return Object.assign({}, {\n    ...stateProps,\n    mouseOverFunc: (raceId, aName, aId, place) => {\n      return dispatchProps.mouseOverFunc(raceId, aName, aId, place);\n    },\n    mouseOutFunc: () => {\n      return dispatchProps.mouseOutFunc();\n    },\n    clickFunc: (d) => {\n      return dispatchProps.clickFunc(d, stateProps.links);\n    },\n    sortCountries: (e) => {\n      return dispatchProps.sortCountries(e.currentTarget.value);\n    },\n    sortAthletes: (e) => {\n      return dispatchProps.sortAthletes(e.currentTarget.value);\n    },\n  })\n};\n\n\nexport default connect(mapStateToProps,\n  mapDispatchToProps,\n  mergeProps)(CountryComponent);","import React, { Component } from 'react';\nimport ReactResizeDetector from 'react-resize-detector';\nimport * as d3 from 'd3';\nimport _ from 'lodash';\nimport Tippy from 'tippy.js';\n\nclass RaceComponent extends Component {\n\n  drawAthlete(g, a, x, y, halfL, strokeW, isOutside, props, raceId) {\n    g.append('line')\n      .attr('x1', x)\n      .attr('x2', x)\n      .attr('y1', y - halfL)\n      .attr('y2', y + halfL)\n      .attr('id', `${a.id}-${raceId}`)\n      .attr('class', `js-race-a-${a.id} race-athlete${isOutside ? '-out' : ''}`)\n      .style('stroke-width', strokeW)\n      .on('mouseover', () => {\n        if ('ontouchstart' in document) {\n          return false;\n        }\n        props.mouseOverFunc(raceId, a.name, a.place, a.id, a.records.length);\n      })\n      .on('mouseout', () => {\n        if ('ontouchstart' in document) {\n          return false;\n        }\n        props.mouseOutFunc();\n      })\n      .on('click', () => {\n        props.clickFunc(a);\n      });\n  }\n\n  drawAthletes(g, x, pDiff, halfL, strokeW, race, raceId, props) {\n    _.each(race, (athletes, key) => {\n      //show only athletes upto place 8\n      const place = +key;\n      if (place <= 8) {\n        let aY = pDiff * (place - 1)\n        //draw athletes in a place; mostly only one, but some are ties\n        const gap = 2;\n        _.each(athletes, (a, j) => {\n          //starting from 270, therfore -90\n          const points = { x: x + (strokeW + gap) * j, y: aY}\n          this.drawAthlete(g, a, points.x, points.y, halfL, strokeW, false, props, raceId);\n        });\n      }\n    });\n  }\n\n  drawRaceLabels(g, aWidth, x, raceId, raceDate, isFirstMeet, isFirstYear, initialTop, labelDist, ldWeight, h) {\n    let y = initialTop - labelDist * ldWeight.date;\n    //draw race date name\n    const elms = raceId.split('-');\n    g.append('text')\n      .attr('x', x)\n      .attr('y', -y)\n      .text(elms[elms.length - 1].slice(1))\n      .attr('class', 'race-label-race');\n    const dateArr = raceDate.split(' ');\n    y += labelDist * ldWeight.date;\n    g.append('text')\n      .attr('x', x)\n      .attr('y', -y)\n      .text(`${dateArr[1]} ${dateArr[0]}`)\n      .attr('class', 'race-label-date');\n    let line = g.append('line')\n      .attr('x1', x - aWidth / 2)\n      .attr('x2', x - aWidth / 2)\n      .attr('y1', h)\n      .attr('y2', -y)\n      .attr('class', 'race-line-race');\n\n    //draw year\n    if (isFirstYear) {\n      y += labelDist * ldWeight.year;\n      g.append('text')\n        .attr('x', x)\n        .attr('y', -y)\n        .text(elms[1].slice(1))\n        .attr('class', 'race-label-year');\n      line.attr('y2', -y)\n        .attr('class', 'race-line-year');\n    }\n    //draw meet\n    if (isFirstMeet) {\n      y += labelDist * ldWeight.meet;\n      g.append('text')\n        .attr('x', x)\n        .attr('y', -y)\n        .text(elms[0].slice(1))\n        .attr('class', 'race-label-meet');\n      line.attr('y2', -y)\n        .attr('class', 'race-line-meet');\n    }\n  }\n\n  drawRaceLines(g, left, w, pDiff, isFirst) {\n    _.each(_.range(8), (i) => {\n      const y = pDiff * i;\n      if (i < 3) {\n        g.append('line')\n          .attr('x1', -20)\n          .attr('x2', w)\n          .attr('y1', y)\n          .attr('y2', y)\n          .attr('class', `race-place-${i + 1}`)\n          .style('stroke-width', pDiff- 4)\n          .style('stroke-opacity', 0.2);\n      }\n      g.append('line')\n        .attr('x1', -20)\n        .attr('x2', w)\n        .attr('y1', y)\n        .attr('y2', y)\n        .attr('class', `race-place-${i < 3 ? i + 1 : 'others'}`);\n      //place circle\n      if (isFirst) {\n        const r = 10;\n        const x = -left + r + 2;\n        if (i < 3) {\n          g.append('circle')\n            .attr('cx', x)\n            .attr('cy', y)\n            .attr('r', r)\n            .attr('class', `fill-place-${i + 1}`);\n        }\n        //text\n        let text = i + 1;\n        g.append('text')\n          .attr('x', x)\n          .attr('y', y)\n          .text(text)\n          .attr('class', 'race-place');\n      }\n    })\n  }\n\n  drawGraph(props) {\n\n    const { byRace, validRaces, meetsIndex, yearsIndex, raceDates } = props;\n    //set the size\n    const containerW = document.getElementById('vis-race-width').clientWidth;\n    const labelDist = 20;\n    const ldWeight = { date: 0.8, year: 1.2, meet: 1};\n    const initialTop = 40 + labelDist * ldWeight.date;\n    let margin = { veryTop: 40, top: initialTop, right: 0, bottom: 40, left: 50, extended: 0 };\n    let dim = { w: containerW - 100 - margin.left - margin.right };\n    let rDiff = 76; //minimum distance between races\n    const aWidth = 8; //width of line representing an athlete\n    let gId = 0; //row <g> index\n    let accWidth = 0; //accumulated width of row after each race\n    let accHeight = 0; //accumulated height of rows\n    const pDiff = 28; //distance between places\n    dim.h = pDiff * 7; //up to place 8\n\n    _.each(validRaces, (r, i) => {\n\n      //draw g of row if not yet drawn\n      let g = d3.select(`#race-g-${gId}`);\n      if (_.isNull(document.getElementById(`race-g-${gId}`))) {\n        g = d3.select('#race-g')\n          .append('g')\n          .attr('id', `race-g-${gId}`)\n          .attr('class', 'race-g-elm');\n        //draw race lines\n        this.drawRaceLines(g, margin.left, dim.w, pDiff, gId === 0);\n      }\n\n      //draw athletes per race\n      const race = byRace[r];\n      //max number of atheletes in a place, and set a race width\n      const maxA = _.max(_.values(race).map((v) => v.length));\n      //put a little more distance between races\n      const rW = Math.max(maxA * (aWidth + 2) + aWidth, rDiff);\n      const halfL = pDiff / 2 - 2; //half of the height of an athlete\n      this.drawAthletes(g, accWidth, pDiff, halfL, aWidth, race, r, props);\n\n      //check more than 8 places or DSQ, set extended bottom margin\n      let xLineCount = 0;\n      //start to display after one place-length distance\n      const xGap = pDiff / 2;\n      if (_.size(race) > 8 || _.keys(race).indexOf('DSQ') > -1) {\n        //get athletes count out of place 8\n        const aOutside = _.chain(race)\n          .filter((a, p) => +p > 8 || p === 'DSQ')\n          .map((a) => a)\n          .flatten()\n          .sortBy((a) => +a.place)\n          .value();\n        let addedW = 0;\n        _.each(aOutside, (a, i) => {\n          const xPos = accWidth + addedW;\n          const yPos = (8 + xLineCount) * pDiff + xGap;\n          this.drawAthlete(g, a, xPos, yPos, halfL, aWidth, true, props, r);\n          addedW += (aWidth + 2);\n          //if wider than the race width, move to the next line\n          if (addedW + (aWidth + 2) >= rW || i === aOutside.length - 1) {\n            xLineCount += 1;\n            addedW = 0;\n          }\n        })\n        //extend the margin as the height of the places outside of 8\n        margin.extended = xLineCount * pDiff + xGap;\n      }\n\n      //check if the race is the first in meets or years\n      let isFirstYear = yearsIndex.indexOf(i) > -1 ? true : false;\n      let isFirstMeet = meetsIndex.indexOf(i) > -1 ? true : false;\n      if (isFirstYear) {\n        margin.top = Math.max(margin.top, initialTop + labelDist * ldWeight.year);\n      }\n      if (isFirstMeet) {\n        margin.top = Math.max(margin.top, initialTop + labelDist * (ldWeight.year + ldWeight.meet));\n      }\n\n      //draw labels of meet, year, and event\n      this.drawRaceLabels(\n        g, aWidth, accWidth,\n        r, raceDates[i],\n        isFirstMeet, isFirstYear,\n        initialTop, labelDist, ldWeight,\n        dim.h + halfL + (xLineCount ? xGap + xLineCount * pDiff : 0));\n\n      //translate each row\n      d3.select(`#race-g-${gId}`)\n        .attr('transform', `translate(${margin.left}, ${margin.top + accHeight})`);\n\n      //accumulated width in one row\n      accWidth += rW;\n      //check if the width is hit the limit\n      if (accWidth > dim.w - rW || i === validRaces.length - 1) {\n        accWidth = 0;\n        gId += 1;\n        accHeight += (dim.h + margin.top + margin.bottom + margin.extended)\n        margin.top = initialTop;\n        margin.extended = 0;\n      }\n    });\n\n    //set the wrappers sizing\n    d3.select('#svg-race')\n      .attr('width', dim.w + margin.left + margin.right)\n      .attr('height', margin.veryTop + accHeight);\n    d3.select('#race-g')\n      .attr('transform', `translate(0, ${margin.veryTop})`);\n  }\n\n  updateGraph(nextProps) {\n    d3.select('#race-g').html('');\n    this.drawGraph(nextProps);\n  }\n\n  highlightAthletes(ids, status) {\n    _.each(ids, (d) => {\n      d3.selectAll(`.js-race-a-${d}`).classed('race-athlete-clicked', status);\n    })\n  }\n\n  componentWillReceiveProps(nextProps) {\n    //option change\n    if (this.props.byRace !== nextProps.byRace) {\n      this.updateGraph(nextProps);\n      return false;\n    }\n    //mouse over/out\n    if (this.props.hovered !== nextProps.hovered) {\n      d3.select(`line[id=\"${nextProps.athleteId}-${nextProps.raceId}\"]`)\n        .attr('title', nextProps.hoverText);\n      d3.selectAll(`.js-race-a-${nextProps.athleteId}`)\n        .classed('race-athlete-linked', nextProps.hovered);\n      if (nextProps.hovered) {\n        Tippy(`line[id=\"${nextProps.athleteId}-${nextProps.raceId}\"]`, {\n          arrow: true,\n          animation: 'fade',\n          size: 'small',\n          duration: 0,\n          position: 'bottom',\n        });\n      }\n    }\n    //click\n    if (nextProps.clicked || this.props !== nextProps.clicked) {\n      d3.selectAll(`.js-race-a-${nextProps.clickedId}`).classed('race-athlete-clicked', nextProps.clicked);\n    }\n    //race selected\n    if (this.props.clickedIds !== nextProps.clickedIds) {\n      this.highlightAthletes(this.props.clickedIds, false);\n      this.highlightAthletes(nextProps.clickedIds, true);\n    }\n  }\n\n  componentDidMount() {\n    this.drawGraph(this.props);\n    if (this.props.clickedIds.length > 0) {\n      this.highlightAthletes(this.props.clickedIds, true);\n    }\n  }\n\n  _onResize() {\n    this.updateGraph(this.props);\n  }\n\n  render() {\n    return (<div>\n      <div className=\"race\" id=\"vis-race-width\">\n        <svg id=\"svg-race\">\n          <g id=\"race-g\"></g>\n        </svg>\n      </div>\n      <ReactResizeDetector handleWidth onResize={this._onResize.bind(this)} />\n    </div>);\n  }\n}\n\nexport default RaceComponent;","import { connect } from 'react-redux';\nimport RaceComponent from '../components/Race';\n\nconst mapStateToProps = (state, ownProps) => {\n  const { athletesByRace, graph } = state.data;\n  const { clickedId, clicked, clickedIds } = state.graph;\n  return {\n    links: graph.links,\n    ...state.race,\n    ...athletesByRace,\n    clickedId,\n    clicked,\n    clickedIds,\n  }\n};\n\nconst mapDispatchToProps = (dispatch) => (\n  {\n    mouseOverFunc: (raceId, aName, place, aId, raceCount) => {\n      dispatch({ type: 'HOVER_RACE_ATHLETE', value: { raceId, aName, place, aId, raceCount } })\n    },\n    mouseOutFunc: () => {\n      dispatch({ type: 'UNHOVER_RACE_ATHLETE' })\n    },\n    clickFunc: (value, links) => {\n      dispatch({ type: 'SELECT_ATHLETE', value, links })\n    },\n  }\n);\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) => {\n  return Object.assign({}, {\n    ...stateProps,\n    mouseOverFunc: (raceId, aName, place, aId, raceCount) => {\n      return dispatchProps.mouseOverFunc(raceId, aName, place, aId, raceCount);\n    },\n    mouseOutFunc: () => {\n      return dispatchProps.mouseOutFunc();\n    },\n    clickFunc: (d) => {\n      return dispatchProps.clickFunc(d, stateProps.links);\n    },\n  })\n};\n\n\nexport default connect(mapStateToProps,\n  mapDispatchToProps,\n  mergeProps)(RaceComponent);","import React, { Component } from 'react';\n\nclass LegendsComponent extends Component {\n  render() {\n    const { type } = this.props;\n    return (<div className=\"legends\">\n      <div className=\"legend-wrapper\">\n        <span className=\"cursor-icon\" />\n        <span className=\"legend\">\n          <div className=\"legend-item\">\n          { type === 'network' && <span className=\"legend-network\"/> }\n          { type === 'country' && <span className=\"legend-country\">\n              <span className=\"r-general r-1 r-first\"/>\n              <span className=\"r-general r-2 r-btw\"/>\n              <span className=\"r-general r-3 r-btw\"/>\n              <span className=\"r-general r-last\"/>\n            </span> }\n          { type === 'races' && <span className=\"legend-races\"/> }\n          <span className=\"legend-label\">Swimmer</span>\n          </div>\n        </span>\n      </div>\n      <div className=\"medals\">\n        <span className=\"gold\"/><span className=\"medal-label\">Gold</span>\n        <span className=\"silver\"/><span className=\"medal-label\">Silver</span>\n        <span className=\"bronze\"/><span className=\"medal-label\">Bronze</span>\n      </div>\n    </div>);\n  }\n}\n\nexport default LegendsComponent;","import React, { Component } from 'react';\nimport scrollToComponent from 'react-scroll-to-component';\nimport Countries from '../data/countries.json';\n\nclass ResultsComponent extends Component {\n\n  scroll() {\n    //scroll to the result when a swimmer is selected\n    scrollToComponent(this.refs.results, {\n      offset: 0,\n      align: 'top',\n      duration: 400\n    });\n  }\n\n  componentDidMount() {\n    this.scroll();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.clicked && this.props.clickedIds !== nextProps.clickedIds) {\n      this.scroll();\n    }\n  }\n\n  render() {\n    const { clickedIds, sharedRaces, clickedObjs, sharedRacesWinner } = this.props;\n\n    return (<div className=\"results\" id=\"results\">\n      <div className=\"remove-all\" ref=\"results\">\n        <a onClick={() => this.props.removeAllAthletes()}>\n          <span className=\"typcn typcn-delete\"></span> Remove all swimmers\n        </a>\n      </div>\n      <div className=\"table-wrapper\">\n        { sharedRaces.length === 0 && <div className=\"no-races\">\n          These { clickedIds.length } swimmers did not compete with each other\n        </div> }\n        <table className=\"race-athlete-table\">\n          { sharedRaces.length > 0 && <thead>\n            <tr className=\"thead\">\n              <th colSpan=\"2\" className=\"result-summary\">\n                <span className=\"result-number\">{ clickedIds.length }</span> swimmer{ clickedIds.length > 1 ? 's' : '' } &amp; <span className=\"result-number\">{ sharedRaces.length }</span> race{ sharedRaces.length > 1 ? 's' : '' }\n              </th>\n              { sharedRaces.map((r, i) => (<th className=\"record\" key={i}>\n                <span className=\"race-meet\">{ r.split('-')[0].slice(1) }</span>\n                  { r.split('-')[1].slice(1) }\n                  <span className=\"dash\">-</span>\n                  { r.split('-')[4].slice(1) }\n                </th>))}\n            </tr>\n          </thead> }\n          <tbody>\n            { clickedObjs.map((a, i) => (<tr key={i}>\n                <td className=\"close-icon\">\n                  <a onClick={() => this.props.removeAthlete(a)}>\n                    <span className=\"typcn typcn-delete\"></span>\n                  </a>\n                </td>\n                <td className=\"athlete\">\n                  <div>{ a.name }</div>\n                  <div>\n                    <span className={`${Countries[a.country] ? `fl-icon flag-icon-${Countries[a.country].toLowerCase()}`: ''}`} />\n                    <span className=\"country\">{ a.country }</span>\n                  </div>\n                </td>\n                { sharedRaces.map((r, j) => (<td key={j} className={`record${sharedRacesWinner && sharedRacesWinner[j].indexOf(i) > -1 ? ' winner' : ''}`}>\n                    <div className=\"place-wrapper\">\n                      <span className={`place place${a.records[r].place}`}>\n                        { a.records[r].place }\n                      </span>\n                    </div>\n                    <div className=\"swimtime\">{ a.records[r].swimtime }</div>\n                  </td>))}\n              </tr>))}\n          </tbody>\n        </table>\n      </div>\n    </div>);\n  }\n}\n\nexport default ResultsComponent;","import { connect } from 'react-redux';\nimport ResultsComponent from '../components/Results';\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    graphInfo: state.graph,\n    links: state.data.graph.links,\n  }\n};\n\nconst mapDispatchToProps = (dispatch) => (\n  {\n    removeAthlete: (value, links) => {\n      dispatch({ type: 'SELECT_ATHLETE', value, links })\n    },\n    removeAllAthletes: () => {\n      dispatch({ type: 'RESET_GRAPH' })\n    },\n  }\n);\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) => {\n  return Object.assign({}, {\n    ...stateProps.graphInfo,\n    removeAthlete: (athlete) => {\n      return dispatchProps.removeAthlete(athlete, stateProps.links);\n    },\n    removeAllAthletes: () => {\n      return dispatchProps.removeAllAthletes();\n    },\n  })\n};\n\n\nexport default connect(mapStateToProps,\n  mapDispatchToProps,\n  mergeProps)(ResultsComponent)","import React, { Component } from 'react';\nimport Header from '../containers/Header';\nimport Options from '../containers/Options';\nimport Network from '../containers/Network';\nimport Country from '../containers/Country';\nimport Race from '../containers/Race';\nimport Legends from './Legends';\nimport Results from '../containers/Results';\nimport Footer from './Footer';\n\nclass VisComponent extends Component {\n\n  render() {\n    return (<div>\n      <div className=\"header-wrapper\">\n        <Header/>\n        <div className=\"container\">\n          <div className=\"columns is-multiline\">\n            <div className=\"column is-9\">\n              <Options />\n            </div>\n            <div className=\"column is-3 vis-types\">\n              {['network', 'country', 'races'].map((view) => (\n                <div key={view}\n                  className={`vis-view ${this.props.visType === view ? 'view-selected': 'l'}`}\n                  onClick={() => this.props.switchVis(view)}\n                >\n                  { view }\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"container contents\">\n        <div className=\"columns is-multiline\">\n          <div className=\"column is-9\">\n            <div className=\"vis-wrapper\">\n              { this.props.visType === 'network' && <Network/> }\n              { this.props.visType === 'country' && <Country/> }\n              { this.props.visType === 'races' && <Race/> }\n            </div>\n          </div>\n          <div className=\"column is-3\">\n            <Legends type={this.props.visType} gender={this.props.gender}/>\n            <div className=\"instruction\">\n              <div className=\"instruction-title\">\n                Investigate swimmers' competition history in the following options.\n              </div>\n              <ul>\n                <li> Click a swimmer in the visualization </li>\n                { this.props.searchedAthletes.length > 0 && <li>\n                  Swimmers used for data filtering\n                  <p className=\"control\">\n                    <span className=\"select is-small\">\n                      <select onChange={this.props.selectAthlete}>\n                        <option value=\"0\">Select a swimmer</option>\n                        {this.props.searchedAthletes.map((a) => {\n                          return (<option key={a.id} value={a.id}>{a.name}</option>);\n                        })}\n                      </select>\n                    </span>\n                  </p>\n                </li>}\n                <li> Top performers\n                  <p className=\"control\">\n                    <span className=\"select is-small\">\n                      <select onChange={this.props.selectAthlete}>\n                        <option value=\"0\">Select a swimmer</option>\n                        {this.props.topAthletes.map((a) => {\n                          return (<option key={a.id} value={a.id}>{a.name} ({a.totalPoint} points / { a.records.length} races)</option>);\n                        })}\n                      </select>\n                    </span>\n                  </p>\n                </li>\n                <li>All swimmers in a races (reset previous results)\n                  <p className=\"control\">\n                    <span className=\"select is-small\">\n                      <select onChange={this.props.selectRace}>\n                        <option value=\"0\">Select a race</option>\n                        {this.props.validRaces.map((r) => {\n                          const label = r.split('-');\n                          return (<option key={r} value={r}>\n                              {label[0].slice(1)} {label[1].slice(1)} - {label[label.length - 1].slice(1)}\n                            </option>);\n                        })}\n                      </select>\n                    </span>\n                  </p>\n                </li>\n              </ul>\n            </div>\n          </div>\n          { this.props.clickedIds.length > 0 && <div className=\"column is-12\">\n              <Results />\n            </div> }\n        </div>\n      </div>\n      <Footer />\n    </div>);\n  }\n}\n\nexport default VisComponent;\n","import { connect } from 'react-redux';\nimport VisComponent from '../components/Vis';\nimport _ from 'lodash';\n\nconst mapStateToProps = (state, ownProps) => (\n  {\n    visType: state.currentView.vis,\n    gender: state.gender,\n    validRaces: state.data.athletesByRace.validRaces,\n    topAthletes: state.data.topAthletes,\n    links: state.data.graph.links,\n    byRace: state.data.athletesByRace.byRace,\n    searchedAthletes: state.options.searchedAthletes,\n    clickedIds: state.graph.clickedIds,\n  }\n);\n\nconst mapDispatchToProps = (dispatch) => (\n  {\n    switchVis: (value) => {\n      dispatch({ type: 'SET_VIS_VIEW', value });\n    },\n    selectAthlete: (value, links) => {\n      dispatch({ type: 'SELECT_ATHLETE', value, links });\n    },\n    selectRace: (id, athletes) => {\n      dispatch({ type: 'SELECT_RACE', value: { id, athletes }});\n    },\n  }\n);\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) => {\n  return Object.assign({}, {\n    ...stateProps,\n    switchVis: (value) => {\n      dispatchProps.switchVis(value);\n    },\n    selectAthlete: (e) => {\n      const id = e.currentTarget.value;\n      if (+id === 0) {\n        return false;\n      }\n      //find athlete from either top or searched athletes\n      let athlete = _.findLast(stateProps.topAthletes, (a) => a.id === id);\n      if (!athlete) {\n        athlete = _.findLast(stateProps.searchedAthletes, (a) => a.id === id);\n      }\n      dispatchProps.selectAthlete(athlete, stateProps.links);\n    },\n    selectRace: (e) => {\n      const id = e.currentTarget.value;\n      if (+id === 0) {\n        return false;\n      }\n      const athletes = _.flatten(_.values(stateProps.byRace[id]));\n      dispatchProps.selectRace(id, athletes);\n    },\n  })\n};\n\nexport default connect(mapStateToProps,\n  mapDispatchToProps,\n  mergeProps,\n)(VisComponent);","import React, { Component } from 'react';\nimport Intro from '../containers/Intro';\nimport Vis from '../containers/Vis';\n\nclass AppComponent extends Component {\n\n  componentWillMount() {\n    this.props.init();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (!this.props.isLoading && nextProps.isLoading) {\n      nextProps.startVis();\n    }\n  }\n\n  render() {\n    return (<div>\n      { this.props.currentView === 'intro' && <Intro /> }\n      { this.props.currentView === 'vis' && <Vis /> }\n    </div>);\n  }\n}\n\nexport default AppComponent;\n","import { connect } from 'react-redux';\nimport AppComponent from '../components/App'\n\nconst mapStateToProps = (state, ownProps) => (\n  {\n    currentView: state.currentView.view,\n    searchedAthletes: state.options.searchedAthletes,\n    sel: state.options.sel,\n    gender: state.gender,\n    isLoading: state.currentView.isLoading,\n  }\n);\n\nconst mapDispatchToProps = (dispatch) => (\n  {\n    init: () => {\n      dispatch({ type: 'INITIALIZE' });\n    },\n    startVis: (value) => {\n      dispatch({ type: 'SET_VIS_DATA', value });\n      //show loading sign\n      setTimeout(() => {\n        dispatch({ type: 'SET_CURRENT_VIEW', value: 'vis' })\n      }, 500);\n   },\n  }\n);\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) => {\n  return Object.assign({}, {\n    ...stateProps,\n    init: () => {\n      dispatchProps.init();\n    },\n    startVis: () => {\n      dispatchProps.startVis(stateProps);\n    },\n  })\n}\n\nexport default connect(mapStateToProps,\n  mapDispatchToProps,\n  mergeProps,\n)(AppComponent)","import { createStore,\n  // applyMiddleware,\n  } from 'redux';\nimport rootReducer from './reducers';\n// import { createLogger } from 'redux-logger';\n\n// const loggerMiddleware = createLogger();\n\nexport default function configureStore(preloadedState) {\n  return createStore(\n    rootReducer,\n    preloadedState,\n    // applyMiddleware(\n    //   loggerMiddleware // neat middleware that logs actions\n    // )\n  );\n};","import React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport configureStore from './configureStore';\nimport App from './containers/App';\n\nimport './index.css';\n\nconst store = configureStore();\n\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}